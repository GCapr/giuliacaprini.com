const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DycvC1GJ.js","assets/connectToChild-CYVGlWxw.js"])))=>i.map(i=>d[i]);
var li=Object.defineProperty;var ci=(s,e,t)=>e in s?li(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var u=(s,e,t)=>ci(s,typeof e!="symbol"?e+"":e,t);const di="modulepreload",hi=function(s){return"/vite/"+s},os={},xe=function(e,t,r){let n=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));n=Promise.all(t.map(a=>{if(a=hi(a),a in os)return;os[a]=!0;const l=a.endsWith(".css"),h=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${h}`))return;const f=document.createElement("link");if(f.rel=l?"stylesheet":di,l||(f.as="script",f.crossOrigin=""),f.href=a,o&&f.setAttribute("nonce",o),document.head.appendChild(f),l)return new Promise((S,c)=>{f.addEventListener("load",S),f.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${a}`)))})}))}return n.then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})};class ui{constructor(e,t,r){this.eventTarget=e,this.eventName=t,this.eventOptions=r,this.unorderedBindings=new Set}connect(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions)}disconnect(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions)}bindingConnected(e){this.unorderedBindings.add(e)}bindingDisconnected(e){this.unorderedBindings.delete(e)}handleEvent(e){const t=fi(e);for(const r of this.bindings){if(t.immediatePropagationStopped)break;r.handleEvent(t)}}get bindings(){return Array.from(this.unorderedBindings).sort((e,t)=>{const r=e.index,n=t.index;return r<n?-1:r>n?1:0})}}function fi(s){if("immediatePropagationStopped"in s)return s;{const{stopImmediatePropagation:e}=s;return Object.assign(s,{immediatePropagationStopped:!1,stopImmediatePropagation(){this.immediatePropagationStopped=!0,e.call(this)}})}}class mi{constructor(e){this.application=e,this.eventListenerMaps=new Map,this.started=!1}start(){this.started||(this.started=!0,this.eventListeners.forEach(e=>e.connect()))}stop(){this.started&&(this.started=!1,this.eventListeners.forEach(e=>e.disconnect()))}get eventListeners(){return Array.from(this.eventListenerMaps.values()).reduce((e,t)=>e.concat(Array.from(t.values())),[])}bindingConnected(e){this.fetchEventListenerForBinding(e).bindingConnected(e)}bindingDisconnected(e){this.fetchEventListenerForBinding(e).bindingDisconnected(e)}handleError(e,t,r={}){this.application.handleError(e,`Error ${t}`,r)}fetchEventListenerForBinding(e){const{eventTarget:t,eventName:r,eventOptions:n}=e;return this.fetchEventListener(t,r,n)}fetchEventListener(e,t,r){const n=this.fetchEventListenerMapForEventTarget(e),i=this.cacheKey(t,r);let o=n.get(i);return o||(o=this.createEventListener(e,t,r),n.set(i,o)),o}createEventListener(e,t,r){const n=new ui(e,t,r);return this.started&&n.connect(),n}fetchEventListenerMapForEventTarget(e){let t=this.eventListenerMaps.get(e);return t||(t=new Map,this.eventListenerMaps.set(e,t)),t}cacheKey(e,t){const r=[e];return Object.keys(t).sort().forEach(n=>{r.push(`${t[n]?"":"!"}${n}`)}),r.join(":")}}const pi=/^((.+?)(@(window|document))?->)?(.+?)(#([^:]+?))(:(.+))?$/;function gi(s){const t=s.trim().match(pi)||[];return{eventTarget:bi(t[4]),eventName:t[2],eventOptions:t[9]?vi(t[9]):{},identifier:t[5],methodName:t[7]}}function bi(s){if(s=="window")return window;if(s=="document")return document}function vi(s){return s.split(":").reduce((e,t)=>Object.assign(e,{[t.replace(/^!/,"")]:!/^!/.test(t)}),{})}function yi(s){if(s==window)return"window";if(s==document)return"document"}function js(s){return s.replace(/(?:[_-])([a-z0-9])/g,(e,t)=>t.toUpperCase())}function Ye(s){return s.charAt(0).toUpperCase()+s.slice(1)}function Ds(s){return s.replace(/([A-Z])/g,(e,t)=>`-${t.toLowerCase()}`)}function wi(s){return s.match(/[^\s]+/g)||[]}class _i{constructor(e,t,r){this.element=e,this.index=t,this.eventTarget=r.eventTarget||e,this.eventName=r.eventName||Ei(e)||ct("missing event name"),this.eventOptions=r.eventOptions||{},this.identifier=r.identifier||ct("missing identifier"),this.methodName=r.methodName||ct("missing method name")}static forToken(e){return new this(e.element,e.index,gi(e.content))}toString(){const e=this.eventTargetName?`@${this.eventTargetName}`:"";return`${this.eventName}${e}->${this.identifier}#${this.methodName}`}get params(){const e={},t=new RegExp(`^data-${this.identifier}-(.+)-param$`);for(const{name:r,value:n}of Array.from(this.element.attributes)){const i=r.match(t),o=i&&i[1];o&&(e[js(o)]=Si(n))}return e}get eventTargetName(){return yi(this.eventTarget)}}const as={a:s=>"click",button:s=>"click",form:s=>"submit",details:s=>"toggle",input:s=>s.getAttribute("type")=="submit"?"click":"input",select:s=>"change",textarea:s=>"input"};function Ei(s){const e=s.tagName.toLowerCase();if(e in as)return as[e](s)}function ct(s){throw new Error(s)}function Si(s){try{return JSON.parse(s)}catch{return s}}class Ti{constructor(e,t){this.context=e,this.action=t}get index(){return this.action.index}get eventTarget(){return this.action.eventTarget}get eventOptions(){return this.action.eventOptions}get identifier(){return this.context.identifier}handleEvent(e){this.willBeInvokedByEvent(e)&&this.shouldBeInvokedPerSelf(e)&&(this.processStopPropagation(e),this.processPreventDefault(e),this.invokeWithEvent(e))}get eventName(){return this.action.eventName}get method(){const e=this.controller[this.methodName];if(typeof e=="function")return e;throw new Error(`Action "${this.action}" references undefined method "${this.methodName}"`)}processStopPropagation(e){this.eventOptions.stop&&e.stopPropagation()}processPreventDefault(e){this.eventOptions.prevent&&e.preventDefault()}invokeWithEvent(e){const{target:t,currentTarget:r}=e;try{const{params:n}=this.action,i=Object.assign(e,{params:n});this.method.call(this.controller,i),this.context.logDebugActivity(this.methodName,{event:e,target:t,currentTarget:r,action:this.methodName})}catch(n){const{identifier:i,controller:o,element:a,index:l}=this,h={identifier:i,controller:o,element:a,index:l,event:e};this.context.handleError(n,`invoking action "${this.action}"`,h)}}shouldBeInvokedPerSelf(e){return this.action.eventOptions.self===!0?this.action.element===e.target:!0}willBeInvokedByEvent(e){const t=e.target;return this.element===t?!0:t instanceof Element&&this.element.contains(t)?this.scope.containsElement(t):this.scope.containsElement(this.action.element)}get controller(){return this.context.controller}get methodName(){return this.action.methodName}get element(){return this.scope.element}get scope(){return this.context.scope}}class Ai{constructor(e,t){this.mutationObserverInit={attributes:!0,childList:!0,subtree:!0},this.element=e,this.started=!1,this.delegate=t,this.elements=new Set,this.mutationObserver=new MutationObserver(r=>this.processMutations(r))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,this.mutationObserverInit),this.refresh())}pause(e){this.started&&(this.mutationObserver.disconnect(),this.started=!1),e(),this.started||(this.mutationObserver.observe(this.element,this.mutationObserverInit),this.started=!0)}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started){const e=new Set(this.matchElementsInTree());for(const t of Array.from(this.elements))e.has(t)||this.removeElement(t);for(const t of Array.from(e))this.addElement(t)}}processMutations(e){if(this.started)for(const t of e)this.processMutation(t)}processMutation(e){e.type=="attributes"?this.processAttributeChange(e.target,e.attributeName):e.type=="childList"&&(this.processRemovedNodes(e.removedNodes),this.processAddedNodes(e.addedNodes))}processAttributeChange(e,t){const r=e;this.elements.has(r)?this.delegate.elementAttributeChanged&&this.matchElement(r)?this.delegate.elementAttributeChanged(r,t):this.removeElement(r):this.matchElement(r)&&this.addElement(r)}processRemovedNodes(e){for(const t of Array.from(e)){const r=this.elementFromNode(t);r&&this.processTree(r,this.removeElement)}}processAddedNodes(e){for(const t of Array.from(e)){const r=this.elementFromNode(t);r&&this.elementIsActive(r)&&this.processTree(r,this.addElement)}}matchElement(e){return this.delegate.matchElement(e)}matchElementsInTree(e=this.element){return this.delegate.matchElementsInTree(e)}processTree(e,t){for(const r of this.matchElementsInTree(e))t.call(this,r)}elementFromNode(e){if(e.nodeType==Node.ELEMENT_NODE)return e}elementIsActive(e){return e.isConnected!=this.element.isConnected?!1:this.element.contains(e)}addElement(e){this.elements.has(e)||this.elementIsActive(e)&&(this.elements.add(e),this.delegate.elementMatched&&this.delegate.elementMatched(e))}removeElement(e){this.elements.has(e)&&(this.elements.delete(e),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(e))}}class Li{constructor(e,t,r){this.attributeName=t,this.delegate=r,this.elementObserver=new Ai(e,this)}get element(){return this.elementObserver.element}get selector(){return`[${this.attributeName}]`}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get started(){return this.elementObserver.started}matchElement(e){return e.hasAttribute(this.attributeName)}matchElementsInTree(e){const t=this.matchElement(e)?[e]:[],r=Array.from(e.querySelectorAll(this.selector));return t.concat(r)}elementMatched(e){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(e,this.attributeName)}elementUnmatched(e){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(e,this.attributeName)}elementAttributeChanged(e,t){this.delegate.elementAttributeValueChanged&&this.attributeName==t&&this.delegate.elementAttributeValueChanged(e,t)}}class Ci{constructor(e,t){this.element=e,this.delegate=t,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver(r=>this.processMutations(r))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,attributeOldValue:!0}),this.refresh())}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started)for(const e of this.knownAttributeNames)this.refreshAttribute(e,null)}processMutations(e){if(this.started)for(const t of e)this.processMutation(t)}processMutation(e){const t=e.attributeName;t&&this.refreshAttribute(t,e.oldValue)}refreshAttribute(e,t){const r=this.delegate.getStringMapKeyForAttribute(e);if(r!=null){this.stringMap.has(e)||this.stringMapKeyAdded(r,e);const n=this.element.getAttribute(e);if(this.stringMap.get(e)!=n&&this.stringMapValueChanged(n,r,t),n==null){const i=this.stringMap.get(e);this.stringMap.delete(e),i&&this.stringMapKeyRemoved(r,e,i)}else this.stringMap.set(e,n)}}stringMapKeyAdded(e,t){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(e,t)}stringMapValueChanged(e,t,r){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(e,t,r)}stringMapKeyRemoved(e,t,r){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(e,t,r)}get knownAttributeNames(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))}get currentAttributeNames(){return Array.from(this.element.attributes).map(e=>e.name)}get recordedAttributeNames(){return Array.from(this.stringMap.keys())}}function ki(s,e,t){Bs(s,e).add(t)}function Oi(s,e,t){Bs(s,e).delete(t),Pi(s,e)}function Bs(s,e){let t=s.get(e);return t||(t=new Set,s.set(e,t)),t}function Pi(s,e){const t=s.get(e);t!=null&&t.size==0&&s.delete(e)}class Mt{constructor(){this.valuesByKey=new Map}get keys(){return Array.from(this.valuesByKey.keys())}get values(){return Array.from(this.valuesByKey.values()).reduce((t,r)=>t.concat(Array.from(r)),[])}get size(){return Array.from(this.valuesByKey.values()).reduce((t,r)=>t+r.size,0)}add(e,t){ki(this.valuesByKey,e,t)}delete(e,t){Oi(this.valuesByKey,e,t)}has(e,t){const r=this.valuesByKey.get(e);return r!=null&&r.has(t)}hasKey(e){return this.valuesByKey.has(e)}hasValue(e){return Array.from(this.valuesByKey.values()).some(r=>r.has(e))}getValuesForKey(e){const t=this.valuesByKey.get(e);return t?Array.from(t):[]}getKeysForValue(e){return Array.from(this.valuesByKey).filter(([t,r])=>r.has(e)).map(([t,r])=>t)}}class Hs{constructor(e,t,r){this.attributeObserver=new Li(e,t,this),this.delegate=r,this.tokensByElement=new Mt}get started(){return this.attributeObserver.started}start(){this.attributeObserver.start()}pause(e){this.attributeObserver.pause(e)}stop(){this.attributeObserver.stop()}refresh(){this.attributeObserver.refresh()}get element(){return this.attributeObserver.element}get attributeName(){return this.attributeObserver.attributeName}elementMatchedAttribute(e){this.tokensMatched(this.readTokensForElement(e))}elementAttributeValueChanged(e){const[t,r]=this.refreshTokensForElement(e);this.tokensUnmatched(t),this.tokensMatched(r)}elementUnmatchedAttribute(e){this.tokensUnmatched(this.tokensByElement.getValuesForKey(e))}tokensMatched(e){e.forEach(t=>this.tokenMatched(t))}tokensUnmatched(e){e.forEach(t=>this.tokenUnmatched(t))}tokenMatched(e){this.delegate.tokenMatched(e),this.tokensByElement.add(e.element,e)}tokenUnmatched(e){this.delegate.tokenUnmatched(e),this.tokensByElement.delete(e.element,e)}refreshTokensForElement(e){const t=this.tokensByElement.getValuesForKey(e),r=this.readTokensForElement(e),n=Mi(t,r).findIndex(([i,o])=>!Ii(i,o));return n==-1?[[],[]]:[t.slice(n),r.slice(n)]}readTokensForElement(e){const t=this.attributeName,r=e.getAttribute(t)||"";return Ri(r,e,t)}}function Ri(s,e,t){return s.trim().split(/\s+/).filter(r=>r.length).map((r,n)=>({element:e,attributeName:t,content:r,index:n}))}function Mi(s,e){const t=Math.max(s.length,e.length);return Array.from({length:t},(r,n)=>[s[n],e[n]])}function Ii(s,e){return s&&e&&s.index==e.index&&s.content==e.content}class Vs{constructor(e,t,r){this.tokenListObserver=new Hs(e,t,this),this.delegate=r,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}get started(){return this.tokenListObserver.started}start(){this.tokenListObserver.start()}stop(){this.tokenListObserver.stop()}refresh(){this.tokenListObserver.refresh()}get element(){return this.tokenListObserver.element}get attributeName(){return this.tokenListObserver.attributeName}tokenMatched(e){const{element:t}=e,{value:r}=this.fetchParseResultForToken(e);r&&(this.fetchValuesByTokenForElement(t).set(e,r),this.delegate.elementMatchedValue(t,r))}tokenUnmatched(e){const{element:t}=e,{value:r}=this.fetchParseResultForToken(e);r&&(this.fetchValuesByTokenForElement(t).delete(e),this.delegate.elementUnmatchedValue(t,r))}fetchParseResultForToken(e){let t=this.parseResultsByToken.get(e);return t||(t=this.parseToken(e),this.parseResultsByToken.set(e,t)),t}fetchValuesByTokenForElement(e){let t=this.valuesByTokenByElement.get(e);return t||(t=new Map,this.valuesByTokenByElement.set(e,t)),t}parseToken(e){try{return{value:this.delegate.parseValueForToken(e)}}catch(t){return{error:t}}}}class xi{constructor(e,t){this.context=e,this.delegate=t,this.bindingsByAction=new Map}start(){this.valueListObserver||(this.valueListObserver=new Vs(this.element,this.actionAttribute,this),this.valueListObserver.start())}stop(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())}get element(){return this.context.element}get identifier(){return this.context.identifier}get actionAttribute(){return this.schema.actionAttribute}get schema(){return this.context.schema}get bindings(){return Array.from(this.bindingsByAction.values())}connectAction(e){const t=new Ti(this.context,e);this.bindingsByAction.set(e,t),this.delegate.bindingConnected(t)}disconnectAction(e){const t=this.bindingsByAction.get(e);t&&(this.bindingsByAction.delete(e),this.delegate.bindingDisconnected(t))}disconnectAllActions(){this.bindings.forEach(e=>this.delegate.bindingDisconnected(e)),this.bindingsByAction.clear()}parseValueForToken(e){const t=_i.forToken(e);if(t.identifier==this.identifier)return t}elementMatchedValue(e,t){this.connectAction(t)}elementUnmatchedValue(e,t){this.disconnectAction(t)}}class Fi{constructor(e,t){this.context=e,this.receiver=t,this.stringMapObserver=new Ci(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap}start(){this.stringMapObserver.start(),this.invokeChangedCallbacksForDefaultValues()}stop(){this.stringMapObserver.stop()}get element(){return this.context.element}get controller(){return this.context.controller}getStringMapKeyForAttribute(e){if(e in this.valueDescriptorMap)return this.valueDescriptorMap[e].name}stringMapKeyAdded(e,t){const r=this.valueDescriptorMap[t];this.hasValue(e)||this.invokeChangedCallback(e,r.writer(this.receiver[e]),r.writer(r.defaultValue))}stringMapValueChanged(e,t,r){const n=this.valueDescriptorNameMap[t];e!==null&&(r===null&&(r=n.writer(n.defaultValue)),this.invokeChangedCallback(t,e,r))}stringMapKeyRemoved(e,t,r){const n=this.valueDescriptorNameMap[e];this.hasValue(e)?this.invokeChangedCallback(e,n.writer(this.receiver[e]),r):this.invokeChangedCallback(e,n.writer(n.defaultValue),r)}invokeChangedCallbacksForDefaultValues(){for(const{key:e,name:t,defaultValue:r,writer:n}of this.valueDescriptors)r!=null&&!this.controller.data.has(e)&&this.invokeChangedCallback(t,n(r),void 0)}invokeChangedCallback(e,t,r){const n=`${e}Changed`,i=this.receiver[n];if(typeof i=="function"){const o=this.valueDescriptorNameMap[e];try{const a=o.reader(t);let l=r;r&&(l=o.reader(r)),i.call(this.receiver,a,l)}catch(a){throw a instanceof TypeError?new TypeError(`Stimulus Value "${this.context.identifier}.${o.name}" - ${a.message}`):a}}}get valueDescriptors(){const{valueDescriptorMap:e}=this;return Object.keys(e).map(t=>e[t])}get valueDescriptorNameMap(){const e={};return Object.keys(this.valueDescriptorMap).forEach(t=>{const r=this.valueDescriptorMap[t];e[r.name]=r}),e}hasValue(e){const t=this.valueDescriptorNameMap[e],r=`has${Ye(t.name)}`;return this.receiver[r]}}class Ni{constructor(e,t){this.context=e,this.delegate=t,this.targetsByName=new Mt}start(){this.tokenListObserver||(this.tokenListObserver=new Hs(this.element,this.attributeName,this),this.tokenListObserver.start())}stop(){this.tokenListObserver&&(this.disconnectAllTargets(),this.tokenListObserver.stop(),delete this.tokenListObserver)}tokenMatched({element:e,content:t}){this.scope.containsElement(e)&&this.connectTarget(e,t)}tokenUnmatched({element:e,content:t}){this.disconnectTarget(e,t)}connectTarget(e,t){var r;this.targetsByName.has(t,e)||(this.targetsByName.add(t,e),(r=this.tokenListObserver)===null||r===void 0||r.pause(()=>this.delegate.targetConnected(e,t)))}disconnectTarget(e,t){var r;this.targetsByName.has(t,e)&&(this.targetsByName.delete(t,e),(r=this.tokenListObserver)===null||r===void 0||r.pause(()=>this.delegate.targetDisconnected(e,t)))}disconnectAllTargets(){for(const e of this.targetsByName.keys)for(const t of this.targetsByName.getValuesForKey(e))this.disconnectTarget(t,e)}get attributeName(){return`data-${this.context.identifier}-target`}get element(){return this.context.element}get scope(){return this.context.scope}}class ji{constructor(e,t){this.logDebugActivity=(r,n={})=>{const{identifier:i,controller:o,element:a}=this;n=Object.assign({identifier:i,controller:o,element:a},n),this.application.logDebugActivity(this.identifier,r,n)},this.module=e,this.scope=t,this.controller=new e.controllerConstructor(this),this.bindingObserver=new xi(this,this.dispatcher),this.valueObserver=new Fi(this,this.controller),this.targetObserver=new Ni(this,this);try{this.controller.initialize(),this.logDebugActivity("initialize")}catch(r){this.handleError(r,"initializing controller")}}connect(){this.bindingObserver.start(),this.valueObserver.start(),this.targetObserver.start();try{this.controller.connect(),this.logDebugActivity("connect")}catch(e){this.handleError(e,"connecting controller")}}disconnect(){try{this.controller.disconnect(),this.logDebugActivity("disconnect")}catch(e){this.handleError(e,"disconnecting controller")}this.targetObserver.stop(),this.valueObserver.stop(),this.bindingObserver.stop()}get application(){return this.module.application}get identifier(){return this.module.identifier}get schema(){return this.application.schema}get dispatcher(){return this.application.dispatcher}get element(){return this.scope.element}get parentElement(){return this.element.parentElement}handleError(e,t,r={}){const{identifier:n,controller:i,element:o}=this;r=Object.assign({identifier:n,controller:i,element:o},r),this.application.handleError(e,`Error ${t}`,r)}targetConnected(e,t){this.invokeControllerMethod(`${t}TargetConnected`,e)}targetDisconnected(e,t){this.invokeControllerMethod(`${t}TargetDisconnected`,e)}invokeControllerMethod(e,...t){const r=this.controller;typeof r[e]=="function"&&r[e](...t)}}function It(s,e){const t=qs(s);return Array.from(t.reduce((r,n)=>(Bi(n,e).forEach(i=>r.add(i)),r),new Set))}function Di(s,e){return qs(s).reduce((r,n)=>(r.push(...Hi(n,e)),r),[])}function qs(s){const e=[];for(;s;)e.push(s),s=Object.getPrototypeOf(s);return e.reverse()}function Bi(s,e){const t=s[e];return Array.isArray(t)?t:[]}function Hi(s,e){const t=s[e];return t?Object.keys(t).map(r=>[r,t[r]]):[]}function Vi(s){return qi(s,$i(s))}function qi(s,e){const t=Ki(s),r=Ui(s.prototype,e);return Object.defineProperties(t.prototype,r),t}function $i(s){return It(s,"blessings").reduce((t,r)=>{const n=r(s);for(const i in n){const o=t[i]||{};t[i]=Object.assign(o,n[i])}return t},{})}function Ui(s,e){return Wi(e).reduce((t,r)=>{const n=zi(s,e,r);return n&&Object.assign(t,{[r]:n}),t},{})}function zi(s,e,t){const r=Object.getOwnPropertyDescriptor(s,t);if(!(r&&"value"in r)){const i=Object.getOwnPropertyDescriptor(e,t).value;return r&&(i.get=r.get||i.get,i.set=r.set||i.set),i}}const Wi=typeof Object.getOwnPropertySymbols=="function"?s=>[...Object.getOwnPropertyNames(s),...Object.getOwnPropertySymbols(s)]:Object.getOwnPropertyNames,Ki=(()=>{function s(t){function r(){return Reflect.construct(t,arguments,new.target)}return r.prototype=Object.create(t.prototype,{constructor:{value:r}}),Reflect.setPrototypeOf(r,t),r}function e(){const r=s(function(){this.a.call(this)});return r.prototype.a=function(){},new r}try{return e(),s}catch{return r=>class extends r{}}})();function Gi(s){return{identifier:s.identifier,controllerConstructor:Vi(s.controllerConstructor)}}class Ji{constructor(e,t){this.application=e,this.definition=Gi(t),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}get identifier(){return this.definition.identifier}get controllerConstructor(){return this.definition.controllerConstructor}get contexts(){return Array.from(this.connectedContexts)}connectContextForScope(e){const t=this.fetchContextForScope(e);this.connectedContexts.add(t),t.connect()}disconnectContextForScope(e){const t=this.contextsByScope.get(e);t&&(this.connectedContexts.delete(t),t.disconnect())}fetchContextForScope(e){let t=this.contextsByScope.get(e);return t||(t=new ji(this,e),this.contextsByScope.set(e,t)),t}}class Xi{constructor(e){this.scope=e}has(e){return this.data.has(this.getDataKey(e))}get(e){return this.getAll(e)[0]}getAll(e){const t=this.data.get(this.getDataKey(e))||"";return wi(t)}getAttributeName(e){return this.data.getAttributeNameForKey(this.getDataKey(e))}getDataKey(e){return`${e}-class`}get data(){return this.scope.data}}class Yi{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get(e){const t=this.getAttributeNameForKey(e);return this.element.getAttribute(t)}set(e,t){const r=this.getAttributeNameForKey(e);return this.element.setAttribute(r,t),this.get(e)}has(e){const t=this.getAttributeNameForKey(e);return this.element.hasAttribute(t)}delete(e){if(this.has(e)){const t=this.getAttributeNameForKey(e);return this.element.removeAttribute(t),!0}else return!1}getAttributeNameForKey(e){return`data-${this.identifier}-${Ds(e)}`}}class Zi{constructor(e){this.warnedKeysByObject=new WeakMap,this.logger=e}warn(e,t,r){let n=this.warnedKeysByObject.get(e);n||(n=new Set,this.warnedKeysByObject.set(e,n)),n.has(t)||(n.add(t),this.logger.warn(r,e))}}function gt(s,e){return`[${s}~="${e}"]`}class Qi{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return this.find(e)!=null}find(...e){return e.reduce((t,r)=>t||this.findTarget(r)||this.findLegacyTarget(r),void 0)}findAll(...e){return e.reduce((t,r)=>[...t,...this.findAllTargets(r),...this.findAllLegacyTargets(r)],[])}findTarget(e){const t=this.getSelectorForTargetName(e);return this.scope.findElement(t)}findAllTargets(e){const t=this.getSelectorForTargetName(e);return this.scope.findAllElements(t)}getSelectorForTargetName(e){const t=this.schema.targetAttributeForScope(this.identifier);return gt(t,e)}findLegacyTarget(e){const t=this.getLegacySelectorForTargetName(e);return this.deprecate(this.scope.findElement(t),e)}findAllLegacyTargets(e){const t=this.getLegacySelectorForTargetName(e);return this.scope.findAllElements(t).map(r=>this.deprecate(r,e))}getLegacySelectorForTargetName(e){const t=`${this.identifier}.${e}`;return gt(this.schema.targetAttribute,t)}deprecate(e,t){if(e){const{identifier:r}=this,n=this.schema.targetAttribute,i=this.schema.targetAttributeForScope(r);this.guide.warn(e,`target:${t}`,`Please replace ${n}="${r}.${t}" with ${i}="${t}". The ${n} attribute is deprecated and will be removed in a future version of Stimulus.`)}return e}get guide(){return this.scope.guide}}class eo{constructor(e,t,r,n){this.targets=new Qi(this),this.classes=new Xi(this),this.data=new Yi(this),this.containsElement=i=>i.closest(this.controllerSelector)===this.element,this.schema=e,this.element=t,this.identifier=r,this.guide=new Zi(n)}findElement(e){return this.element.matches(e)?this.element:this.queryElements(e).find(this.containsElement)}findAllElements(e){return[...this.element.matches(e)?[this.element]:[],...this.queryElements(e).filter(this.containsElement)]}queryElements(e){return Array.from(this.element.querySelectorAll(e))}get controllerSelector(){return gt(this.schema.controllerAttribute,this.identifier)}}class to{constructor(e,t,r){this.element=e,this.schema=t,this.delegate=r,this.valueListObserver=new Vs(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}start(){this.valueListObserver.start()}stop(){this.valueListObserver.stop()}get controllerAttribute(){return this.schema.controllerAttribute}parseValueForToken(e){const{element:t,content:r}=e,n=this.fetchScopesByIdentifierForElement(t);let i=n.get(r);return i||(i=this.delegate.createScopeForElementAndIdentifier(t,r),n.set(r,i)),i}elementMatchedValue(e,t){const r=(this.scopeReferenceCounts.get(t)||0)+1;this.scopeReferenceCounts.set(t,r),r==1&&this.delegate.scopeConnected(t)}elementUnmatchedValue(e,t){const r=this.scopeReferenceCounts.get(t);r&&(this.scopeReferenceCounts.set(t,r-1),r==1&&this.delegate.scopeDisconnected(t))}fetchScopesByIdentifierForElement(e){let t=this.scopesByIdentifierByElement.get(e);return t||(t=new Map,this.scopesByIdentifierByElement.set(e,t)),t}}class so{constructor(e){this.application=e,this.scopeObserver=new to(this.element,this.schema,this),this.scopesByIdentifier=new Mt,this.modulesByIdentifier=new Map}get element(){return this.application.element}get schema(){return this.application.schema}get logger(){return this.application.logger}get controllerAttribute(){return this.schema.controllerAttribute}get modules(){return Array.from(this.modulesByIdentifier.values())}get contexts(){return this.modules.reduce((e,t)=>e.concat(t.contexts),[])}start(){this.scopeObserver.start()}stop(){this.scopeObserver.stop()}loadDefinition(e){this.unloadIdentifier(e.identifier);const t=new Ji(this.application,e);this.connectModule(t)}unloadIdentifier(e){const t=this.modulesByIdentifier.get(e);t&&this.disconnectModule(t)}getContextForElementAndIdentifier(e,t){const r=this.modulesByIdentifier.get(t);if(r)return r.contexts.find(n=>n.element==e)}handleError(e,t,r){this.application.handleError(e,t,r)}createScopeForElementAndIdentifier(e,t){return new eo(this.schema,e,t,this.logger)}scopeConnected(e){this.scopesByIdentifier.add(e.identifier,e);const t=this.modulesByIdentifier.get(e.identifier);t&&t.connectContextForScope(e)}scopeDisconnected(e){this.scopesByIdentifier.delete(e.identifier,e);const t=this.modulesByIdentifier.get(e.identifier);t&&t.disconnectContextForScope(e)}connectModule(e){this.modulesByIdentifier.set(e.identifier,e),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(r=>e.connectContextForScope(r))}disconnectModule(e){this.modulesByIdentifier.delete(e.identifier),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(r=>e.disconnectContextForScope(r))}}const ro={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target",targetAttributeForScope:s=>`data-${s}-target`};class $s{constructor(e=document.documentElement,t=ro){this.logger=console,this.debug=!1,this.logDebugActivity=(r,n,i={})=>{this.debug&&this.logFormattedMessage(r,n,i)},this.element=e,this.schema=t,this.dispatcher=new mi(this),this.router=new so(this)}static start(e,t){const r=new $s(e,t);return r.start(),r}async start(){await no(),this.logDebugActivity("application","starting"),this.dispatcher.start(),this.router.start(),this.logDebugActivity("application","start")}stop(){this.logDebugActivity("application","stopping"),this.dispatcher.stop(),this.router.stop(),this.logDebugActivity("application","stop")}register(e,t){this.load({identifier:e,controllerConstructor:t})}load(e,...t){(Array.isArray(e)?e:[e,...t]).forEach(n=>{n.controllerConstructor.shouldLoad&&this.router.loadDefinition(n)})}unload(e,...t){(Array.isArray(e)?e:[e,...t]).forEach(n=>this.router.unloadIdentifier(n))}get controllers(){return this.router.contexts.map(e=>e.controller)}getControllerForElementAndIdentifier(e,t){const r=this.router.getContextForElementAndIdentifier(e,t);return r?r.controller:null}handleError(e,t,r){var n;this.logger.error(`%s

%o

%o`,t,e,r),(n=window.onerror)===null||n===void 0||n.call(window,t,"",0,0,e)}logFormattedMessage(e,t,r={}){r=Object.assign({application:this},r),this.logger.groupCollapsed(`${e} #${t}`),this.logger.log("details:",Object.assign({},r)),this.logger.groupEnd()}}function no(){return new Promise(s=>{document.readyState=="loading"?document.addEventListener("DOMContentLoaded",()=>s()):s()})}function io(s){return It(s,"classes").reduce((t,r)=>Object.assign(t,oo(r)),{})}function oo(s){return{[`${s}Class`]:{get(){const{classes:e}=this;if(e.has(s))return e.get(s);{const t=e.getAttributeName(s);throw new Error(`Missing attribute "${t}"`)}}},[`${s}Classes`]:{get(){return this.classes.getAll(s)}},[`has${Ye(s)}Class`]:{get(){return this.classes.has(s)}}}}function ao(s){return It(s,"targets").reduce((t,r)=>Object.assign(t,lo(r)),{})}function lo(s){return{[`${s}Target`]:{get(){const e=this.targets.find(s);if(e)return e;throw new Error(`Missing target element "${s}" for "${this.identifier}" controller`)}},[`${s}Targets`]:{get(){return this.targets.findAll(s)}},[`has${Ye(s)}Target`]:{get(){return this.targets.has(s)}}}}function co(s){const e=Di(s,"values"),t={valueDescriptorMap:{get(){return e.reduce((r,n)=>{const i=Us(n,this.identifier),o=this.data.getAttributeNameForKey(i.key);return Object.assign(r,{[o]:i})},{})}}};return e.reduce((r,n)=>Object.assign(r,ho(n)),t)}function ho(s,e){const t=Us(s,e),{key:r,name:n,reader:i,writer:o}=t;return{[n]:{get(){const a=this.data.get(r);return a!==null?i(a):t.defaultValue},set(a){a===void 0?this.data.delete(r):this.data.set(r,o(a))}},[`has${Ye(n)}`]:{get(){return this.data.has(r)||t.hasCustomDefaultValue}}}}function Us([s,e],t){return po({controller:t,token:s,typeDefinition:e})}function xt(s){switch(s){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function Re(s){switch(typeof s){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}if(Array.isArray(s))return"array";if(Object.prototype.toString.call(s)==="[object Object]")return"object"}function uo(s){const e=xt(s.typeObject.type);if(!e)return;const t=Re(s.typeObject.default);if(e!==t){const r=s.controller?`${s.controller}.${s.token}`:s.token;throw new Error(`The specified default value for the Stimulus Value "${r}" must match the defined type "${e}". The provided default value of "${s.typeObject.default}" is of type "${t}".`)}return e}function fo(s){const e=uo({controller:s.controller,token:s.token,typeObject:s.typeDefinition}),t=Re(s.typeDefinition),r=xt(s.typeDefinition),n=e||t||r;if(n)return n;const i=s.controller?`${s.controller}.${s.typeDefinition}`:s.token;throw new Error(`Unknown value type "${i}" for "${s.token}" value`)}function mo(s){const e=xt(s);if(e)return go[e];const t=s.default;return t!==void 0?t:s}function po(s){const e=`${Ds(s.token)}-value`,t=fo(s);return{type:t,key:e,name:js(e),get defaultValue(){return mo(s.typeDefinition)},get hasCustomDefaultValue(){return Re(s.typeDefinition)!==void 0},reader:bo[t],writer:ls[t]||ls.default}}const go={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},bo={array(s){const e=JSON.parse(s);if(!Array.isArray(e))throw new TypeError(`expected value of type "array" but instead got value "${s}" of type "${Re(e)}"`);return e},boolean(s){return!(s=="0"||String(s).toLowerCase()=="false")},number(s){return Number(s)},object(s){const e=JSON.parse(s);if(e===null||typeof e!="object"||Array.isArray(e))throw new TypeError(`expected value of type "object" but instead got value "${s}" of type "${Re(e)}"`);return e},string(s){return s}},ls={default:vo,array:cs,object:cs};function cs(s){return JSON.stringify(s)}function vo(s){return`${s}`}class b{constructor(e){this.context=e}static get shouldLoad(){return!0}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(e,{target:t=this.element,detail:r={},prefix:n=this.identifier,bubbles:i=!0,cancelable:o=!0}={}){const a=n?`${n}:${e}`:e,l=new CustomEvent(a,{detail:r,bubbles:i,cancelable:o});return t.dispatchEvent(l),l}}b.blessings=[io,ao,co];b.targets=[];b.values={};var zs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fe(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function kh(s){if(s.__esModule)return s;var e=s.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(s).forEach(function(r){var n=Object.getOwnPropertyDescriptor(s,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return s[r]}})}),t}var yo={aqua:/#00ffff(ff)?(?!\w)|#0ff(f)?(?!\w)/gi,azure:/#f0ffff(ff)?(?!\w)/gi,beige:/#f5f5dc(ff)?(?!\w)/gi,bisque:/#ffe4c4(ff)?(?!\w)/gi,black:/#000000(ff)?(?!\w)|#000(f)?(?!\w)/gi,blue:/#0000ff(ff)?(?!\w)|#00f(f)?(?!\w)/gi,brown:/#a52a2a(ff)?(?!\w)/gi,coral:/#ff7f50(ff)?(?!\w)/gi,cornsilk:/#fff8dc(ff)?(?!\w)/gi,crimson:/#dc143c(ff)?(?!\w)/gi,cyan:/#00ffff(ff)?(?!\w)|#0ff(f)?(?!\w)/gi,darkblue:/#00008b(ff)?(?!\w)/gi,darkcyan:/#008b8b(ff)?(?!\w)/gi,darkgrey:/#a9a9a9(ff)?(?!\w)/gi,darkred:/#8b0000(ff)?(?!\w)/gi,deeppink:/#ff1493(ff)?(?!\w)/gi,dimgrey:/#696969(ff)?(?!\w)/gi,gold:/#ffd700(ff)?(?!\w)/gi,green:/#008000(ff)?(?!\w)/gi,grey:/#808080(ff)?(?!\w)/gi,honeydew:/#f0fff0(ff)?(?!\w)/gi,hotpink:/#ff69b4(ff)?(?!\w)/gi,indigo:/#4b0082(ff)?(?!\w)/gi,ivory:/#fffff0(ff)?(?!\w)/gi,khaki:/#f0e68c(ff)?(?!\w)/gi,lavender:/#e6e6fa(ff)?(?!\w)/gi,lime:/#00ff00(ff)?(?!\w)|#0f0(f)?(?!\w)/gi,linen:/#faf0e6(ff)?(?!\w)/gi,maroon:/#800000(ff)?(?!\w)/gi,moccasin:/#ffe4b5(ff)?(?!\w)/gi,navy:/#000080(ff)?(?!\w)/gi,oldlace:/#fdf5e6(ff)?(?!\w)/gi,olive:/#808000(ff)?(?!\w)/gi,orange:/#ffa500(ff)?(?!\w)/gi,orchid:/#da70d6(ff)?(?!\w)/gi,peru:/#cd853f(ff)?(?!\w)/gi,pink:/#ffc0cb(ff)?(?!\w)/gi,plum:/#dda0dd(ff)?(?!\w)/gi,purple:/#800080(ff)?(?!\w)/gi,red:/#ff0000(ff)?(?!\w)|#f00(f)?(?!\w)/gi,salmon:/#fa8072(ff)?(?!\w)/gi,seagreen:/#2e8b57(ff)?(?!\w)/gi,seashell:/#fff5ee(ff)?(?!\w)/gi,sienna:/#a0522d(ff)?(?!\w)/gi,silver:/#c0c0c0(ff)?(?!\w)/gi,skyblue:/#87ceeb(ff)?(?!\w)/gi,snow:/#fffafa(ff)?(?!\w)/gi,tan:/#d2b48c(ff)?(?!\w)/gi,teal:/#008080(ff)?(?!\w)/gi,thistle:/#d8bfd8(ff)?(?!\w)/gi,tomato:/#ff6347(ff)?(?!\w)/gi,violet:/#ee82ee(ff)?(?!\w)/gi,wheat:/#f5deb3(ff)?(?!\w)/gi,white:/#ffffff(ff)?(?!\w)|#fff(f)?(?!\w)/gi},dt=yo,Ft={whitespace:/\s+/g,urlHexPairs:/%[\dA-F]{2}/g,quotes:/"/g};function wo(s){return s.trim().replace(Ft.whitespace," ")}function _o(s){return encodeURIComponent(s).replace(Ft.urlHexPairs,So)}function Eo(s){return Object.keys(dt).forEach(function(e){dt[e].test(s)&&(s=s.replace(dt[e],e))}),s}function So(s){switch(s){case"%20":return" ";case"%3D":return"=";case"%3A":return":";case"%2F":return"/";default:return s.toLowerCase()}}function bt(s){if(typeof s!="string")throw new TypeError("Expected a string, but received "+typeof s);s.charCodeAt(0)===65279&&(s=s.slice(1));var e=Eo(wo(s)).replace(Ft.quotes,"'");return"data:image/svg+xml,"+_o(e)}bt.toSrcset=function(e){return bt(e).replace(/ /g,"%20")};var To=bt;const Ao=Fe(To);class vt extends b{importQrcodeGenerator(){return xe(()=>import("./qrcode-BDJ3A_DS.js").then(e=>e.q),[]).then(e=>(console.log(e),e.default))}generateSvg(){this.importQrcodeGenerator().then(e=>{const t=e(4,"L");t.addData(this.textValue),t.make();const r=t.createSvgTag(10,40).replace(/width="\d+px"/,'width="100%"').replace(/height="\d+px"/,'height="100%"');this.displayTarget.innerHTML=r,this.svgButtonTarget.href=Ao(r),setTimeout(()=>{this.imageButtonTarget.href=t.createDataURL(10,40)},100)})}}u(vt,"values",{text:String}),u(vt,"targets",["display","imageButton","svgButton"]);const Oh=Object.freeze(Object.defineProperty({__proto__:null,default:vt},Symbol.toStringTag,{value:"Module"}));class Lo extends b{openQrcode(){const e=new CustomEvent("open-qrcode");window.dispatchEvent(e)}}const Ph=Object.freeze(Object.defineProperty({__proto__:null,default:Lo},Symbol.toStringTag,{value:"Module"}));class Co extends b{constructor(){super(...arguments);u(this,"_handleClickWindow",t=>{t.target.dataset.activatorPreventHide!=="true"&&this._handleHide()})}connect(){window.addEventListener("click",this._handleClickWindow)}disconnect(){window.removeEventListener("click",this._handleClickWindow)}show(t){t.stopPropagation(),this.element.classList.add("is-activator-active"),document.body.style.overflow="hidden";const r=this.element.querySelector("[data-activator-focus-on-show]");r&&r.focus()}hide(t){t.stopPropagation(),alert(t.target),t.target.dataset.activatorPreventHide!=="true"&&this._handleHide()}_handleHide(){this.element.classList.remove("is-activator-active"),document.body.style.overflow="auto"}}const Rh=Object.freeze(Object.defineProperty({__proto__:null,default:Co},Symbol.toStringTag,{value:"Module"}));class Ws extends b{initialize(){console.debug("Stimulus.js - add-block")}connect(){}disconnect(){var e;(e=this._rootEl)==null||e.remove()}openDialog(){this._rootEl||(this._rootEl=document.createElement("div"),this._rootEl.setAttribute("data-controller","render-react"),this._rootEl.setAttribute("data-render-react-component-value","AddBlockDialog"),this._rootEl.setAttribute("data-render-react-props-value",JSON.stringify({block_id:this.blockIdValue,mode:this.modeValue,record_type:this.recordTypeValue,record_id:this.recordIdValue,site_id:this.siteIdValue,site_subdomain:this.siteSubdomainValue,column_id:this.columnIdValue})),document.body.appendChild(this._rootEl))}}u(Ws,"values",{blockId:String,mode:String,recordType:String,recordId:String,siteId:String,siteSubdomain:String,columnId:String});const Mh=Object.freeze(Object.defineProperty({__proto__:null,default:Ws},Symbol.toStringTag,{value:"Module"}));var ko=function(s){return s.replace(/[^A-Za-z0-9-]/g,"-").replace(/--+/g,"-").replace(/^-|-$/g,"").toLowerCase()};const Oo=Fe(ko);class Po extends b{initialize(){this._anchors=[]}connect(){const e=this.element.dataset.anchorifySelector;if(!e)throw"Element must have data-anchorify-selector attribute.";this.element.querySelectorAll(e).forEach(r=>{const n=r.textContent;if(n.trim().length<=0)return;const i=this._generateAnchor(n),o=document.createElement("a");o.innerText="#",o.className="theme-anchorify",o.setAttribute("href","#"+i),o.setAttribute("name",i),r.insertBefore(o,r.childNodes[0])})}disconnect(){}_generateAnchor(e){let t=Oo(e);const r=this._anchors.filter(n=>n==t);return this._anchors.push(t),r.length>0&&(t+="-"+r.length),t}}const Ih=Object.freeze(Object.defineProperty({__proto__:null,default:Po},Symbol.toStringTag,{value:"Module"}));function Ro(s,e){var t={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&e.indexOf(r)<0&&(t[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(s);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(s,r[n])&&(t[r[n]]=s[r[n]]);return t}const ht={debug:!1,logger:console,dispatchEvent:!0,eventPrefix:!0};class Mo{constructor(e,t={}){var r,n,i;this.log=(l,h)=>{this.debug&&(this.logger.groupCollapsed(`%c${this.controller.identifier} %c#${l}`,"color: #3B82F6","color: unset"),this.logger.log(Object.assign({controllerId:this.controllerId},h)),this.logger.groupEnd())},this.warn=l=>{this.logger.warn(`%c${this.controller.identifier} %c${l}`,"color: #3B82F6; font-weight: bold","color: unset")},this.dispatch=(l,h={})=>{if(this.dispatchEvent){const{event:f}=h,S=Ro(h,["event"]),c=this.extendedEvent(l,f||null,S);this.targetElement.dispatchEvent(c),this.log("dispatchEvent",Object.assign({eventName:c.type},S))}},this.call=(l,h={})=>{const f=this.controller[l];if(typeof f=="function")return f.call(this.controller,h)},this.extendedEvent=(l,h,f)=>{const{bubbles:S,cancelable:c,composed:_}=h||{bubbles:!0,cancelable:!0,composed:!0};return h&&Object.assign(f,{originalEvent:h}),new CustomEvent(this.composeEventName(l),{bubbles:S,cancelable:c,composed:_,detail:f})},this.composeEventName=l=>{let h=l;return this.eventPrefix===!0?h=`${this.controller.identifier}:${l}`:typeof this.eventPrefix=="string"&&(h=`${this.eventPrefix}:${l}`),h},this.debug=(n=(r=t==null?void 0:t.debug)!==null&&r!==void 0?r:e.application.stimulusUseDebug)!==null&&n!==void 0?n:ht.debug,this.logger=(i=t==null?void 0:t.logger)!==null&&i!==void 0?i:ht.logger,this.controller=e,this.controllerId=e.element.id||e.element.dataset.id,this.targetElement=(t==null?void 0:t.element)||e.element;const{dispatchEvent:o,eventPrefix:a}=Object.assign({},ht,t);Object.assign(this,{dispatchEvent:o,eventPrefix:a}),this.controllerInitialize=e.initialize.bind(e),this.controllerConnect=e.connect.bind(e),this.controllerDisconnect=e.disconnect.bind(e)}}class Io extends b{}Io.debounces=[];class xo extends Mo{constructor(e,t={}){super(e,t),this.observe=()=>{this.targetElement.addEventListener("mouseenter",this.onEnter),this.targetElement.addEventListener("mouseleave",this.onLeave)},this.unobserve=()=>{this.targetElement.removeEventListener("mouseenter",this.onEnter),this.targetElement.removeEventListener("mouseleave",this.onLeave)},this.onEnter=r=>{this.call("mouseEnter",r),this.log("mouseEnter",{hover:!0}),this.dispatch("mouseEnter",{hover:!1})},this.onLeave=r=>{this.call("mouseLeave",r),this.log("mouseLeave",{hover:!1}),this.dispatch("mouseLeave",{hover:!1})},this.controller=e,this.enhanceController(),this.observe()}enhanceController(){const e=this.controller.disconnect.bind(this.controller),t=()=>{this.unobserve(),e()};Object.assign(this.controller,{disconnect:t})}}const Fo=(s,e={})=>{const t=s,r=new xo(t,e);return[r.observe,r.unobserve]};class No extends b{}No.throttles=[];var jo=typeof global=="object"&&global&&global.Object===Object&&global,Do=typeof self=="object"&&self&&self.Object===Object&&self,Bo=jo||Do||Function("return this")(),We=Bo.Symbol,Ks=Object.prototype,Ho=Ks.hasOwnProperty,Vo=Ks.toString,ke=We?We.toStringTag:void 0;function qo(s){var e=Ho.call(s,ke),t=s[ke];try{s[ke]=void 0;var r=!0}catch{}var n=Vo.call(s);return r&&(e?s[ke]=t:delete s[ke]),n}var $o=Object.prototype,Uo=$o.toString;function zo(s){return Uo.call(s)}var Wo="[object Null]",Ko="[object Undefined]",ds=We?We.toStringTag:void 0;function Go(s){return s==null?s===void 0?Ko:Wo:ds&&ds in Object(s)?qo(s):zo(s)}function Jo(s){var e=typeof s;return s!=null&&(e=="object"||e=="function")}var Xo="[object AsyncFunction]",Yo="[object Function]",Zo="[object GeneratorFunction]",Qo="[object Proxy]";function hs(s){if(!Jo(s))return!1;var e=Go(s);return e==Yo||e==Zo||e==Xo||e==Qo}function ea(s){var e=s==null?0:s.length;return e?s[e-1]:void 0}let ta=class{constructor(e){this.response=e}get statusCode(){return this.response.status}get redirected(){return this.response.redirected}get ok(){return this.response.ok}get unauthenticated(){return this.statusCode===401}get unprocessableEntity(){return this.statusCode===422}get authenticationURL(){return this.response.headers.get("WWW-Authenticate")}get contentType(){return(this.response.headers.get("Content-Type")||"").replace(/;.*$/,"")}get headers(){return this.response.headers}get html(){return this.contentType.match(/^(application|text)\/(html|xhtml\+xml)$/)?this.text:Promise.reject(new Error(`Expected an HTML response but got "${this.contentType}" instead`))}get json(){return this.contentType.match(/^application\/.*json$/)?this.responseJson||(this.responseJson=this.response.json()):Promise.reject(new Error(`Expected a JSON response but got "${this.contentType}" instead`))}get text(){return this.responseText||(this.responseText=this.response.text())}get isTurboStream(){return this.contentType.match(/^text\/vnd\.turbo-stream\.html/)}async renderTurboStream(){if(this.isTurboStream)window.Turbo?await window.Turbo.renderStreamMessage(await this.text):console.warn("You must set `window.Turbo = Turbo` to automatically process Turbo Stream events with request.js");else return Promise.reject(new Error(`Expected a Turbo Stream response but got "${this.contentType}" instead`))}};class sa{static register(e){this.interceptor=e}static get(){return this.interceptor}static reset(){this.interceptor=void 0}}function ra(s){const e=document.cookie?document.cookie.split("; "):[],t=`${encodeURIComponent(s)}=`,r=e.find(n=>n.startsWith(t));if(r){const n=r.split("=").slice(1).join("=");if(n)return decodeURIComponent(n)}}function na(s){const e={};for(const t in s){const r=s[t];r!==void 0&&(e[t]=r)}return e}function us(s){const e=document.head.querySelector(`meta[name="${s}"]`);return e&&e.content}function ia(s){return[...s].reduce((e,[t,r])=>e.concat(typeof r=="string"?[[t,r]]:[]),[])}function oa(s,e){for(const[t,r]of e)r instanceof window.File||(s.has(t)&&!t.includes("[]")?(s.delete(t),s.set(t,r)):s.append(t,r))}let Ze=class{constructor(e,t,r={}){this.method=e,this.options=r,this.originalUrl=t.toString()}async perform(){try{const t=sa.get();t&&await t(this)}catch(t){console.error(t)}const e=new ta(await window.fetch(this.url,this.fetchOptions));return e.unauthenticated&&e.authenticationURL?Promise.reject(window.location.href=e.authenticationURL):(e.ok&&e.isTurboStream&&await e.renderTurboStream(),e)}addHeader(e,t){const r=this.additionalHeaders;r[e]=t,this.options.headers=r}sameHostname(){if(!this.originalUrl.startsWith("http:"))return!0;try{return new URL(this.originalUrl).hostname===window.location.hostname}catch{return!0}}get fetchOptions(){return{method:this.method.toUpperCase(),headers:this.headers,body:this.formattedBody,signal:this.signal,credentials:"same-origin",redirect:this.redirect}}get headers(){const e={"X-Requested-With":"XMLHttpRequest","Content-Type":this.contentType,Accept:this.accept};return this.sameHostname()&&(e["X-CSRF-Token"]=this.csrfToken),na(Object.assign(e,this.additionalHeaders))}get csrfToken(){return ra(us("csrf-param"))||us("csrf-token")}get contentType(){return this.options.contentType?this.options.contentType:this.body==null||this.body instanceof window.FormData?void 0:this.body instanceof window.File?this.body.type:"application/json"}get accept(){switch(this.responseKind){case"html":return"text/html, application/xhtml+xml";case"turbo-stream":return"text/vnd.turbo-stream.html, text/html, application/xhtml+xml";case"json":return"application/json, application/vnd.api+json";default:return"*/*"}}get body(){return this.options.body}get query(){const e=(this.originalUrl.split("?")[1]||"").split("#")[0],t=new URLSearchParams(e);let r=this.options.query;r instanceof window.FormData?r=ia(r):r instanceof window.URLSearchParams?r=r.entries():r=Object.entries(r||{}),oa(t,r);const n=t.toString();return n.length>0?`?${n}`:""}get url(){return this.originalUrl.split("?")[0].split("#")[0]+this.query}get responseKind(){return this.options.responseKind||"html"}get signal(){return this.options.signal}get redirect(){return this.options.redirect||"follow"}get additionalHeaders(){return this.options.headers||{}}get formattedBody(){const e=Object.prototype.toString.call(this.body)==="[object String]";return this.headers["Content-Type"]==="application/json"&&!e?JSON.stringify(this.body):this.body}};async function Gs(s,e){return new Ze("get",s,e).perform()}async function aa(s,e){return new Ze("post",s,e).perform()}async function fs(s,e){return new Ze("patch",s,e).perform()}async function Nh(s,e){return new Ze("delete",s,e).perform()}class yt extends b{connect(){this.element.blockEditor=this,Fo(this,{element:this.element})}mouseEnter(e){this._blockEditorParents(e.target).forEach(r=>{r.blockEditor&&r.blockEditor.element.classList.remove("block-editor--hover")}),this.element.classList.add("block-editor--hover")}mouseLeave(e){this.element.classList.remove("block-editor--hover");const t=this._blockEditorParents(e.target),r=ea(t);r!=null&&r.blockEditor&&r.blockEditor.element.classList.add("block-editor--hover")}edit(){if(!this.editUrlValue)throw"block-editor controller must have edit-url-value";if(this.isEditing())return;this.element.closest(".site-editable--active")&&Gs(this.editUrlValue,{contentType:"text/vnd.turbo-stream.html",responseKind:"turbo-stream"})}moveUp(){if(!this.moveUpUrlValue)throw"block-editor controller must have move-up-url-value";fs(this.moveUpUrlValue,{contentType:"text/vnd.turbo-stream.html",responseKind:"turbo-stream"})}moveDown(){if(!this.moveDownUrlValue)throw"block-editor controller must have move-down-url-value";fs(this.moveDownUrlValue,{contentType:"text/vnd.turbo-stream.html",responseKind:"turbo-stream"})}isEditing(){return this.element.classList.contains("block-editor--editing")}_nearestBlockEditor(e){var r,n;let t=e.parentNode;for(;t&&!(((n=(r=t.dataset)==null?void 0:r.controller)==null?void 0:n.indexOf("block-editor"))>=0);)t=t.parentNode;return t}_blockEditorParents(e){var n,i;const t=[];let r=e.parentNode;for(;r;)((i=(n=r.dataset)==null?void 0:n.controller)==null?void 0:i.indexOf("block-editor"))>=0&&t.push(r),r=r.parentNode;return t}}u(yt,"targets",["content","bar","editor","overlay"]),u(yt,"values",{editUrl:String,moveUpUrl:String,moveDownUrl:String});const jh=Object.freeze(Object.defineProperty({__proto__:null,default:yt},Symbol.toStringTag,{value:"Module"}));function W(s,e){for(let t in e)s.style[t]=e[t]}class la extends b{constructor(){super(...arguments);u(this,"_handleClickOutside",t=>{if(this._popper.style.display!=="none"&&this._popper&&!this._popper.contains(t.target)){W(this._popper,{display:"none"}),document.removeEventListener("click",this._handleClickOutside);return}});u(this,"_handleClickWindow",t=>{let r=t.target;if(r.closest("trix-editor"))return;if(!(r instanceof HTMLAnchorElement)){let h=!1;for(;r&&r!==document;){if(r instanceof HTMLAnchorElement){h=!0;break}r=r.parentNode}if(!h)return}if(r.host===window.location.host&&(r.pathname.startsWith("/preview/")||r.pathname.startsWith("/builder/")||r.pathname.startsWith("/editable/")))return;t.preventDefault();const n=r.getAttribute("href"),i=r.offsetHeight,o=r.offsetParent,a=r.offsetTop,l=r.offsetLeft;o.appendChild(this._popper),this._popper.innerHTML=`
      Cannot open external link in preview.
      Click to open in new tab.<br>
      <a
        href="${n}"
        target="_blank"
        style="color: #2196f3; text-decoration: underline;"
      >
        ${n}
      </a>
    `,W(this._popper,{display:"block",position:"absolute",top:`${a+i}px`,left:`${l}px`,zIndex:1e3}),setTimeout(()=>{document.addEventListener("click",this._handleClickOutside)},100)})}initialize(){console.debug("Stimulus.js - block-external-links")}connect(){window.addEventListener("mousedown",t=>{const r=t.target;r.closest("trix-editor")||r instanceof HTMLAnchorElement&&t.preventDefault()}),window.addEventListener("click",this._handleClickWindow),this._popper=document.createElement("div"),W(this._popper,{display:"none",position:"absolute",padding:"8px 12px",lineHeight:"20px",fontSize:"14px",color:"rgba(0, 0, 0, .87)",backgroundColor:"#fff",border:"1px solid #ccc",borderRadius:"4px",minWidth:"240px",textAlign:"left"}),this._popper.addEventListener("click",t=>t.stopPropagation())}disconnect(){this._links&&this._links.forEach(t=>{t.removeEventListener("click",this._handleClickAnchor)}),this._popper&&this._popper.remove(),document.removeEventListener("click",this._handleClickOutside)}}const Dh=Object.freeze(Object.defineProperty({__proto__:null,default:la},Symbol.toStringTag,{value:"Module"}));class wt extends b{constructor(){super(...arguments);u(this,"_clearField",()=>{this.fieldTarget.value="",this.fieldTarget.focus(),this._handleInputField()});u(this,"_handleInputField",()=>{this.fieldTarget.value?(this.fieldTarget.style.paddingRight="40px",this.buttonTarget.style.display="block"):(this.fieldTarget.style.paddingRight="0px",this.buttonTarget.style.display="none")})}initialize(){console.debug("Stimulus.js - clear-field")}connect(){!this.buttonTarget||!this.fieldTarget||(this._handleInputField(),this.buttonTarget.addEventListener("click",this._clearField),this.fieldTarget.addEventListener("input",this._handleInputField))}disconnect(){!this.buttonTarget||!this.fieldTarget||(this.buttonTarget.removeEventListener("click",this._clearField),this.fieldTarget.removeEventListener("input",this._handleInputField))}}u(wt,"targets",["field","button"]),u(wt,"values",{});const Bh=Object.freeze(Object.defineProperty({__proto__:null,default:wt},Symbol.toStringTag,{value:"Module"}));class _t extends b{constructor(){super(...arguments);u(this,"_handleClick",async()=>{if(this.contentValue)await this._copy(this.contentValue);else if(this.selectorValue){const r=document.querySelector(this.selectorValue),n=r.innerHTML,i=r.textContent;await this._copy(n,i)}else return;const t=this.labelTarget.innerHTML;this.labelTarget.innerHTML="Copied!",setTimeout(()=>{this.labelTarget.innerHTML=t},2e3)})}initialize(){console.debug("Stimulus.js - clipboard-copy")}connect(){this._supportsClipboard()?(this.element.style.cursor="pointer",this.element.addEventListener("click",this._handleClick)):this.element.style.display="none"}disconnect(){this._supportsClipboard()&&this.element.removeEventListener("click",this._handleClick)}_supportsClipboard(){return navigator.clipboard&&window.isSecureContext}async _copy(t,r){try{if(navigator.clipboard&&window.ClipboardItem){const n=new Blob([t],{type:"text/html"}),i=new Blob([r],{type:"text/plain"}),o=new ClipboardItem({"text/html":n,"text/plain":i});await navigator.clipboard.write([o])}else throw new Error("Clipboard API not available")}catch(n){console.error("Failed to copy:",n),this._copyHtmlContentFallback(t)}}_copyHtmlContentFallback(t){const r=document.createElement("div");r.contentEditable="true",document.body.appendChild(r),r.innerHTML=t,r.unselectable="off",r.focus(),document.execCommand("selectAll",!1,null),document.execCommand("copy"),document.body.removeChild(r)}}u(_t,"values",{selector:String,content:String}),u(_t,"targets",["label"]);const Hh=Object.freeze(Object.defineProperty({__proto__:null,default:_t},Symbol.toStringTag,{value:"Module"}));var Js={exports:{}};(function(s,e){(function(t,r){s.exports=r()})(zs,function(){var t=function(){},r={},n={},i={};function o(c,_){c=c.push?c:[c];var L=[],E=c.length,R=E,P,M,I,x;for(P=function(d,m){m.length&&L.push(d),R--,R||_(L)};E--;){if(M=c[E],I=n[M],I){P(M,I);continue}x=i[M]=i[M]||[],x.push(P)}}function a(c,_){if(c){var L=i[c];if(n[c]=_,!!L)for(;L.length;)L[0](c,_),L.splice(0,1)}}function l(c,_){c.call&&(c={success:c}),_.length?(c.error||t)(_):(c.success||t)(c)}function h(c,_,L,E){var R=document,P=L.async,M=(L.numRetries||0)+1,I=L.before||t,x=c.replace(/[\?|#].*$/,""),d=c.replace(/^(css|img)!/,""),m,v;E=E||0,/(^css!|\.css$)/.test(x)?(v=R.createElement("link"),v.rel="stylesheet",v.href=d,m="hideFocus"in v,m&&v.relList&&(m=0,v.rel="preload",v.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(x)?(v=R.createElement("img"),v.src=d):(v=R.createElement("script"),v.src=c,v.async=P===void 0?!0:P),v.onload=v.onerror=v.onbeforeload=function(X){var w=X.type[0];if(m)try{v.sheet.cssText.length||(w="e")}catch(K){K.code!=18&&(w="e")}if(w=="e"){if(E+=1,E<M)return h(c,_,L,E)}else if(v.rel=="preload"&&v.as=="style")return v.rel="stylesheet";_(c,w,X.defaultPrevented)},I(c,v)!==!1&&R.head.appendChild(v)}function f(c,_,L){c=c.push?c:[c];var E=c.length,R=E,P=[],M,I;for(M=function(x,d,m){if(d=="e"&&P.push(x),d=="b")if(m)P.push(x);else return;E--,E||_(P)},I=0;I<R;I++)h(c[I],M,L)}function S(c,_,L){var E,R;if(_&&_.trim&&(E=_),R=(E?L:_)||{},E){if(E in r)throw"LoadJS";r[E]=!0}function P(M,I){f(c,function(x){l(R,x),M&&l({success:M,error:I},x),a(E,x)},R)}if(R.returnPromise)return new Promise(P);P()}return S.ready=function(_,L){return o(_,function(E){l(L,E)}),S},S.done=function(_){a(_,[])},S.reset=function(){r={},n={},i={}},S.isDefined=function(_){return _ in r},S})})(Js);var ca=Js.exports;const ge=Fe(ca);function da(){return window.Popper?(console.log("Popper is already loaded."),Promise.resolve()):ge(["https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"],"popper",{returnPromise:!0}).then(()=>{console.log("Popper.js is loaded.")})}class Xs extends b{constructor(){super(...arguments);u(this,"_handleClickTooltip",t=>{t.stopPropagation()});u(this,"_handleClickWindow",t=>{t.target!==this.element&&this.hideTooltip()});u(this,"_handleClickFnRef",t=>{if(t.preventDefault(),this._tooltip.hasAttribute("data-show")){this.hideTooltip();return}da().then(()=>{this._popper||(this._popper=Popper.createPopper(this.element,this._tooltip,{placement:"bottom",modifiers:[{name:"offset",options:{offset:[0,12]}},{name:"preventOverflow",options:{padding:16}}]})),this._popper.update(),this.showTooltip()})})}initialize(){this._popper=null}connect(){const t=document.querySelector(`#${this.tooltipIdValue}`);!t||this.element.closest(".fancy-footnote-tooltip")||(this._tooltip=t.cloneNode(!0),document.body.appendChild(this._tooltip),this._tooltip.addEventListener("click",this._handleClickTooltip),this.element.addEventListener("click",this._handleClickFnRef),window.addEventListener("click",this._handleClickWindow))}disconnect(){this._tooltip&&(this._tooltip.removeEventListener("click",this._handleClickTooltip),this._tooltip.remove(),this.element.removeEventListener("click",this._handleClickFnRef),window.removeEventListener("click",this._handleClickWindow))}hideTooltip(){this._tooltip.removeAttribute("data-show")}showTooltip(){this._tooltip.setAttribute("data-show","")}}u(Xs,"values",{tooltipId:String});const Vh=Object.freeze(Object.defineProperty({__proto__:null,default:Xs},Symbol.toStringTag,{value:"Module"}));class ha extends b{click(){const e=this.element.dataset.formId;if(!e)return;const t=document.getElementById(e);if(!t)return;const r=t.querySelector("input[type=submit]");r&&r.click()}}const qh=Object.freeze(Object.defineProperty({__proto__:null,default:ha},Symbol.toStringTag,{value:"Module"})),ua=/^\/document\/d\/e\/[a-zA-Z0-9_\-]+\/pub$/,fa=/^\/spreadsheets\/d\/e\/[a-zA-Z0-9_\-]+\/pubhtml$/,ma=/^\/presentation\/d\/e\/[a-zA-Z0-9_\-]+\/pub$/,pa=/^\/forms\/d\/e\/[a-zA-Z0-9_\-]+\/viewform$/;function ga(s){let e;try{e=new URL(s)}catch{return null}const t=e.hostname,r=e.pathname;if(t!=="docs.google.com")return null;if(r.match(ua))e.searchParams.set("embedded","true");else if(r.match(pa))e.searchParams.set("usp",null),e.searchParams.set("embedded","true");else if(r.match(fa))e.searchParams.set("widget","true"),e.searchParams.set("headers","false");else if(r.match(ma)){const n=r.replace(/\/pub$/,"/embed");e.pathname=n}else return null;return{type:"docs",embedUrl:e.toString()}}const ut={"16:9":{paddingTop:16/9*100+"%"},letter:{paddingTop:11/8.5*100+"%"},a4:{paddingTop:297/210*100+"%"},square:{paddingTop:"100%"}},ms={"16:9":{paddingTop:9/16*100+"%"},letter:{paddingTop:8.5/11*100+"%"},a4:{paddingTop:210/297*100+"%"},square:{paddingTop:"100%"}};class ba extends b{connect(){const{block:e}=this.element.dataset;if(!e)return;const{url:t,orientation:r,aspect_ratio:n}=JSON.parse(e);if(!t)return;const{type:i,embedUrl:o}=ga(t);if(!i||!o)return null;W(this.element,{overflow:"hidden",position:"relative",paddingTop:ut["16:9"]});let a;r==="portrait"?a=ut[n]||ut["16:9"]:a=ms[n]||ms["16:9"],W(this.element,a);const l=document.createElement("iframe");l.src=o,W(l,{position:"absolute",top:0,left:0,width:"100%",height:"100%",border:"none"}),this.element.appendChild(l)}}const $h=Object.freeze(Object.defineProperty({__proto__:null,default:ba},Symbol.toStringTag,{value:"Module"}));class va extends b{constructor(){super(...arguments);u(this,"_handleClick",()=>{const t=this.element.dataset.gotoUrl;Turbolinks.visit(t)})}connect(){if(this.element.addEventListener("click",this._handleClick),this.element.style.cursor="pointer",!this.element.dataset.gotoUrl)throw"Element must have data-goto-url attribute."}disconnect(){this.element.removeEventListener("click",this._handleClick)}}const Uh=Object.freeze(Object.defineProperty({__proto__:null,default:va},Symbol.toStringTag,{value:"Module"}));let Be=null;function ya(){return window.hljs?(console.log("Highlight is already loaded."),Promise.resolve()):Be||(Be=ge(["https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/styles/default.min.css","https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.2/highlight.min.js"],"highlight",{returnPromise:!0}).then(()=>{console.log("Loaded Highlight.")}),Be)}class wa extends b{connect(){const e=this.element.querySelector("code");window.addEventListener("load",()=>{ya().then(()=>{window.hljs.highlightElement(e)})})}}const zh=Object.freeze(Object.defineProperty({__proto__:null,default:wa},Symbol.toStringTag,{value:"Module"}));class _a extends b{constructor(){super(...arguments);u(this,"_handleClickAnchor",t=>{t.stopImmediatePropagation()});u(this,"_handleClick",t=>{const r=this.element.dataset.href;window.location.href=r})}connect(){this.element.addEventListener("click",this._handleClick),this._links=this.element.querySelectorAll("a"),this._links.forEach(t=>{t.addEventListener("click",this._handleClickAnchor)})}disconnect(){this._links&&this._links.forEach(t=>{t.removeEventListener("click",this._handleClickAnchor)})}}const Wh=Object.freeze(Object.defineProperty({__proto__:null,default:_a},Symbol.toStringTag,{value:"Module"}));let ps=null;class Ea extends b{constructor(){super(...arguments);u(this,"_handleTouchEnd",()=>{document.querySelectorAll('[data-controller="load-altmetric"]').forEach(r=>{r.isEqualNode(this.element)||this._hidePopover(r)})});u(this,"_handleClickWindow",()=>{this._hidePopover(this.element)})}connect(){if(this.element.addEventListener("touchend",this._handleTouchEnd),window.addEventListener("click",this._handleClickWindow),window._altmetric_embed_init){console.log("Altmetric is already loaded."),window._altmetric_embed_init();return}ps||(ps=ge("https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js","altmetric",{returnPromise:!0}).then(()=>{console.log("Loaded Altmetric. Setting it up.")}))}_hidePopover(t){const r=t.querySelector("a");r&&r.dispatchEvent(new MouseEvent("mouseout"))}disconnect(){this.element.removeEventListener("touchend",this._handleTouchEnd),window.removeEventListener("click",this._handleClickWindow)}}const Kh=Object.freeze(Object.defineProperty({__proto__:null,default:Ea},Symbol.toStringTag,{value:"Module"}));class Sa extends b{connect(){var e=this.element.textContent;e.match(/(?:\$|\\\(|\\\[|\\begin\{.*?})/)&&xe(()=>import("./loadMathJax-yXKXHuUT.js"),[]).then(t=>t.default).then(t=>{t().then(()=>{console.log({MathJax}),console.log("There is math in the page. Typeset them."),MathJax.typeset()})})}disconnect(){}}const Gh=Object.freeze(Object.defineProperty({__proto__:null,default:Sa},Symbol.toStringTag,{value:"Module"}));class Ys extends b{show(e){e.preventDefault(),e.stopPropagation(),this.modalTarget.classList.add("ot-dialog--open");const t=this.modalTarget.querySelector("#user_email");t&&t.focus()}hide(e){e.preventDefault(),e.stopPropagation(),this.modalTarget.classList.remove("ot-dialog--open")}}u(Ys,"targets",["modal"]);const Jh=Object.freeze(Object.defineProperty({__proto__:null,default:Ys},Symbol.toStringTag,{value:"Module"}));class Ta extends b{constructor(){super(...arguments);u(this,"_handleBeforeVisit",()=>{this._handleHide()});u(this,"_handleStopPropagation",t=>{t.stopPropagation()});u(this,"_handleShow",()=>{this.element.classList.add("is-active"),this.element.classList.add("is-modal-active"),document.body.style.overflow="hidden"});u(this,"_handleHide",()=>{this.element.classList.remove("is-active"),this.element.classList.remove("is-modal-active"),document.body.style.overflow="auto"})}connect(){document.addEventListener("turbo:before-visit",this._handleBeforeVisit),document.addEventListener("click",this._handleHide),this.element.addEventListener("click",this._handleStopPropagation)}disconnect(){document.removeEventListener("turbo:before-visit",this._handleBeforeVisit),document.removeEventListener("click",this._handleHide),this.element.removeEventListener("click",this._handleStopPropagation)}show(t){t.stopPropagation(),this._handleShow()}hide(t){t.stopPropagation(),this._handleHide()}toggle(t){t.stopPropagation(),this.element.classList.contains("is-modal-active")?this._handleHide():this._handleShow()}}const Xh=Object.freeze(Object.defineProperty({__proto__:null,default:Ta},Symbol.toStringTag,{value:"Module"}));var Nt=Aa;function Aa(s,e,t){var r=null,n=null,i=t&&t.leading,o=t&&t.trailing;i==null&&(i=!0),o==null&&(o=!i),i==!0&&(o=!1);var a=function(){r&&(clearTimeout(r),r=null)},l=function(){var f=n;a(),f&&f()},h=function(){var f=i&&!r,S=this,c=arguments;if(n=function(){return s.apply(S,c)},r||(r=setTimeout(function(){if(r=null,o)return n()},e)),f)return f=!1,n()};return h.cancel=a,h.flush=l,h}class Et extends b{constructor(){super(...arguments);u(this,"_handleResize",Nt(()=>{const t=this.linksContainerTarget,n=t.getBoundingClientRect().width-this.subtractWidthValue,i=t.querySelectorAll(this.linksItemSelectorValue),o=this.menuContainerTarget.querySelectorAll(this.menuItemSelectorValue);let a=0,l=0;i.forEach((h,f)=>{if(f>=o.length){console.error("There are more links than there are menu items.");return}const S=o[f];h.style.display="block";const c=h.getBoundingClientRect();a+=c.width,a>n?(h.style.display="none",S.style.display="block",l+=1):(h.style.display="block",S.style.display="none")}),this.menuContainerTarget.style.display=l>0?"block":"none"},100))}initialize(){console.debug("Stimulus.js - overflow-nav")}connect(){this._handleResize(),window.addEventListener("resize",this._handleResize),this._linkEls=document.querySelectorAll('link[rel="stylesheet"]'),this._linkEls.forEach(t=>{t.addEventListener("load",this._handleResize)})}disconnect(){window.removeEventListener("resize",this._handleResize),this._linkEls.forEach(t=>{t.removeEventListener("load",this._handleResize)})}}u(Et,"targets",["linksContainer","menuContainer"]),u(Et,"values",{linksItemSelector:String,menuItemSelector:String,subtractWidth:{type:Number,default:0}});const Yh=Object.freeze(Object.defineProperty({__proto__:null,default:Et},Symbol.toStringTag,{value:"Module"}));class La extends b{initialize(){console.debug("Stimulus.js - pdf-embed")}showFullScreen(){this.element.classList.add("pdf-embed-fullscreen")}hideFullScreen(){this.element.classList.remove("pdf-embed-fullscreen")}download(e){const{url:t,filename:r}=e.params;this.downloadFile(t,r)}async downloadFile(e,t){try{const r=await fetch(e);if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const n=await r.blob(),i=window.URL.createObjectURL(n),o=document.createElement("a");o.href=i,o.download=t,document.body.appendChild(o),o.click()}catch(r){console.error("Download failed:",r)}}}const Zh=Object.freeze(Object.defineProperty({__proto__:null,default:La},Symbol.toStringTag,{value:"Module"}));var Zs={exports:{}};/**
 *  PDFObject v2.2.6
 *  https://github.com/pipwerks/PDFObject
 *  @license
 *  Copyright (c) 2008-2021 Philip Hutchison
 *  MIT-style license: http://pipwerks.mit-license.org/
 *  UMD module pattern from https://github.com/umdjs/umd/blob/master/templates/returnExports.js
 */(function(s){(function(e,t){s.exports?s.exports=t():e.PDFObject=t()})(zs,function(){if(typeof window>"u"||window.navigator===void 0||window.navigator.userAgent===void 0||window.navigator.mimeTypes===void 0)return!1;let e="2.2.6",t=window.navigator,r=window.navigator.userAgent,n="ActiveXObject"in window,i=window.Promise!==void 0,o=t.mimeTypes["application/pdf"]!==void 0,l=t.platform!==void 0&&t.platform==="MacIntel"&&t.maxTouchPoints!==void 0&&t.maxTouchPoints>1||/Mobi|Tablet|Android|iPad|iPhone/.test(r),h=!l&&t.vendor!==void 0&&/Apple/.test(t.vendor)&&/Safari/.test(r),f=!l&&/irefox/.test(r)&&r.split("rv:").length>1?parseInt(r.split("rv:")[1].split(".")[0],10)>18:!1,S=function(d){var m;try{m=new ActiveXObject(d)}catch{m=null}return m},_=!l&&(i||f||o||n&&function(){return!!(S("AcroPDF.PDF")||S("PDF.PdfCtrl"))}()),L=function(d){let m="",v;if(d){for(v in d)d.hasOwnProperty(v)&&(m+=encodeURIComponent(v)+"="+encodeURIComponent(d[v])+"&");m&&(m="#"+m,m=m.slice(0,m.length-1))}return m},E=function(d,m){return m||console.log("[PDFObject] "+d),!1},R=function(d){for(;d.firstChild;)d.removeChild(d.firstChild)},P=function(d){let m=document.body;return typeof d=="string"?m=document.querySelector(d):window.jQuery!==void 0&&d instanceof jQuery&&d.length?m=d.get(0):d.nodeType!==void 0&&d.nodeType===1&&(m=d),m},M=function(d,m,v,X,w,K){R(d);let C=X+"?file="+encodeURIComponent(m)+v,D=document.createElement("div"),F=document.createElement("iframe");return F.src=C,F.className="pdfobject",F.type="application/pdf",F.frameborder="0",F.allow="fullscreen",w&&(F.id=w),K||(D.style.cssText="position: absolute; top: 0; right: 0; bottom: 0; left: 0;",F.style.cssText="border: none; width: 100%; height: 100%;",d.style.position="relative",d.style.overflow="auto"),D.appendChild(F),d.appendChild(D),d.classList.add("pdfobject-container"),d.getElementsByTagName("iframe")[0]},I=function(d,m,v,X,w,K,C,D,F,me){R(m);let U=document.createElement(d);if(U.src=X+w,U.className="pdfobject",U.type="application/pdf",U.title=F,D&&(U.id=D),d==="iframe"&&(U.allow="fullscreen"),!me){let Z=d==="embed"?"overflow: auto;":"border: none;";v&&v!==document.body?Z+="width: "+K+"; height: "+C+";":Z+="position: absolute; top: 0; right: 0; bottom: 0; left: 0; width: 100%; height: 100%;",U.style.cssText=Z}return m.classList.add("pdfobject-container"),m.appendChild(U),m.getElementsByTagName(d)[0]},x=function(d,m,v){let X=m||!1,w=v||{},K=typeof w.id=="string"?w.id:"",C=w.page||!1,D=w.pdfOpenParams||{},F=w.fallbackLink||!0,me=w.width||"100%",U=w.height||"100%",Z=w.title||"Embedded PDF",g=typeof w.assumptionMode=="boolean"?w.assumptionMode:!0,p=typeof w.forcePDFJS=="boolean"?w.forcePDFJS:!1,k=typeof w.supportRedirect=="boolean"?w.supportRedirect:!1,y=typeof w.omitInlineStyles=="boolean"?w.omitInlineStyles:!1,A=typeof w.suppressConsole=="boolean"?w.suppressConsole:!1,ne=typeof w.forceIframe=="boolean"?w.forceIframe:!1,q=w.PDFJS_URL||!1,z=P(X),pe="",$="",_e="<p>This browser does not support inline PDFs. Please download the PDF to view it: <a href='[url]'>Download PDF</a></p>";return typeof d!="string"?E("URL is not valid",A):z?(C&&(D.page=C),$=L(D),p&&q?M(z,d,$,q,K,y):_||g&&!l?I(ne||k||h?"iframe":"embed",z,m,d,$,me,U,K,Z,y):q?M(z,d,$,q,K,y):(F&&(pe=typeof F=="string"?F:_e,z.innerHTML=pe.replace(/\[url\]/g,d)),E("This browser does not support embedded PDFs",A))):E("Target element cannot be determined",A)};return{embed:function(d,m,v){return x(d,m,v)},pdfobjectversion:function(){return e}(),supportsPDFs:function(){return _}()}})})(Zs);var Ca=Zs.exports;const ka=Fe(Ca),ft={"16:9":{paddingTop:16/9*100+"%"},letter:{paddingTop:11/8.5*100+"%"},a4:{paddingTop:297/210*100+"%"},square:{paddingTop:"100%"}},gs={"16:9":{paddingTop:9/16*100+"%"},letter:{paddingTop:8.5/11*100+"%"},a4:{paddingTop:210/297*100+"%"},square:{paddingTop:"100%"}};class Oa extends b{connect(){const{url:e,orientation:t,aspectRatio:r}=this.element.dataset;W(this.element,{overflow:"hidden",position:"relative",paddingTop:ft.letter});let n;t==="portrait"?n=ft[r]||ft["16:9"]:n=gs[r]||gs["16:9"],W(this.element,n),ka.embed(e,this.element,{forcePDFJS:!1,PDFJS_URL:"https://mozilla.github.io/pdf.js/legacy/web/viewer.html",pdfOpenParams:{pagemode:"none"}});const i=this.element.querySelector("iframe, embed");i&&W(i,{position:"absolute",top:0,left:0,width:"100%",height:"100%",border:"none"})}}const Qh=Object.freeze(Object.defineProperty({__proto__:null,default:Oa},Symbol.toStringTag,{value:"Module"}));function Pa(){return ge.isDefined("egjs-grid")||ge(["https://cdn.jsdelivr.net/npm/@egjs/grid@1.16.0/dist/grid.min.js"],"egjs-grid"),window.Grid?(console.log("Grid is already loaded."),Promise.resolve()):new Promise((s,e)=>{ge.ready("egjs-grid",{success:function(){console.log("@egjs/grid is loaded."),s()},error:function(t){e(t)}})})}class Ra extends b{initialize(){console.debug("Stimulus.js - picture-gallery")}connect(){Pa().then(()=>{this._onLoadEgjsGrid()})}_onLoadEgjsGrid(){const e=this.element.querySelectorAll("img"),t=Array.from(e).map(r=>new Promise(n=>{r.width&&r.height?n([r.width,r.height]):r.onload=()=>n([r.width,r.height])}));Promise.all(t).then(()=>{new Grid.JustifiedGrid(this.element,{defaultDirection:"end",gap:16,rowRange:0,columnRange:[1,4],sizeRange:[100,200],isCroppedSize:!1,displayedRow:-1,useResizeObserver:!0,observeChildren:!1}).renderItems()})}}const eu=Object.freeze(Object.defineProperty({__proto__:null,default:Ra},Symbol.toStringTag,{value:"Module"}));class Qs extends b{initialize(){console.debug("Stimulus.js - picture-lightbox")}openModal(e){this.modalTarget.style.display="flex",this.show(e)}show(e){e.stopPropagation();const t=e.currentTarget.dataset.pictureLightboxIndex;this.frameTargets.forEach(r=>{r.dataset.pictureLightboxIndex===t?r.style.display="flex":r.style.display="none"})}stopPropagation(e){e.stopPropagation()}closeModal(){this.modalTarget.style.display="none"}connect(){}disconnect(){}}u(Qs,"targets",["modal","frame"]);const tu=Object.freeze(Object.defineProperty({__proto__:null,default:Qs},Symbol.toStringTag,{value:"Module"}));class St extends b{constructor(){super(...arguments);u(this,"_positionBody",Nt(()=>{const t=this.$anchor.getBoundingClientRect();let r={position:"fixed",top:t.top+t.height+"px"};this.transformOriginHorizontalValue==="left"?this.anchorOriginHorizontalValue==="left"?r.left=t.left+"px":r.left=t.right+"px":this.anchorOriginHorizontalValue==="left"?r.right=document.documentElement.clientWidth-t.left+"px":r.right=document.documentElement.clientWidth-t.right+"px",W(this.$body,r)},100))}initialize(){console.debug("Stimulus.js - popover2")}connect(){this._show=!1,this.$overlay=this.overlayTarget,this.$body=this.bodyTarget,this.$anchor=this.anchorTarget,window.addEventListener("resize",this._positionBody)}disconnect(){window.removeEventListener("resize",this._positionBody)}show(){this._show=!0,document.body.style.overflow="hidden",this.$overlay.style.display="block",this.$body.style.display="block",this._positionBody()}hide(){this._show=!1,document.body.style.overflow="",this.$overlay.style.display="none",this.$body.style.display="none"}}u(St,"values",{anchorOriginHorizontal:{type:String,default:"left"},transformOriginHorizontal:{type:String,default:"left"}}),u(St,"targets",["anchor","body","overlay"]);const su=Object.freeze(Object.defineProperty({__proto__:null,default:St},Symbol.toStringTag,{value:"Module"}));class Ma extends b{show(){this.element.classList.add("is-active")}hide(){this.element.classList.remove("is-active")}toggle(){this.element.classList.contains("is-active")?this.hide():this.show()}}const ru=Object.freeze(Object.defineProperty({__proto__:null,default:Ma},Symbol.toStringTag,{value:"Module"}));class er extends b{connect(){grecaptcha.render("recaptchaV2",{sitekey:this.siteKeyValue})}}u(er,"values",{siteKey:String});const nu=Object.freeze(Object.defineProperty({__proto__:null,default:er},Symbol.toStringTag,{value:"Module"}));class tr extends b{constructor(){super(...arguments);u(this,"_loadScript",()=>{if(typeof grecaptcha<"u"){console.log("Recaptcha is already loaded");return}const t=document.createElement("script"),n=`?onload=${this.renderCallbackValue}&render=${this.siteKeyValue}`;t.src="https://www.google.com/recaptcha/api.js"+n,document.body.appendChild(t)})}initialize(){console.debug("Stimulus.js - recaptcha-v3")}connect(){window.addEventListener("scroll",()=>{window.scrollY>0&&this._loadScript()},!0),this.element.addEventListener("click",this._loadScript)}}u(tr,"values",{siteKey:String,renderCallback:String});const iu=Object.freeze(Object.defineProperty({__proto__:null,default:tr},Symbol.toStringTag,{value:"Module"}));class sr extends b{initialize(){console.debug("Stimulus.js - render-react")}async connect(){const{default:e}=await xe(async()=>{const{default:t}=await import("./RenderReact-Bh8X10F_.js").then(r=>r.d);return{default:t}},[]);this.renderReact=new e(this.element,this.componentValue,this.propsValue),this.renderReact.render()}disconnect(){var e;(e=this.renderReact)==null||e.unmount()}}u(sr,"values",{component:String,props:String});const ou=Object.freeze(Object.defineProperty({__proto__:null,default:sr},Symbol.toStringTag,{value:"Module"}));var Se=typeof Reflect=="object"?Reflect:null,bs=Se&&typeof Se.apply=="function"?Se.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)},Ue;Se&&typeof Se.ownKeys=="function"?Ue=Se.ownKeys:Object.getOwnPropertySymbols?Ue=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Ue=function(e){return Object.getOwnPropertyNames(e)};function Ia(s){console&&console.warn&&console.warn(s)}var rr=Number.isNaN||function(e){return e!==e};function T(){T.init.call(this)}var xa=T;T.EventEmitter=T;T.prototype._events=void 0;T.prototype._eventsCount=0;T.prototype._maxListeners=void 0;var vs=10;function Qe(s){if(typeof s!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof s)}Object.defineProperty(T,"defaultMaxListeners",{enumerable:!0,get:function(){return vs},set:function(s){if(typeof s!="number"||s<0||rr(s))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+s+".");vs=s}});T.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};T.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||rr(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function nr(s){return s._maxListeners===void 0?T.defaultMaxListeners:s._maxListeners}T.prototype.getMaxListeners=function(){return nr(this)};T.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n=e==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var l=i[e];if(l===void 0)return!1;if(typeof l=="function")bs(l,this,t);else for(var h=l.length,f=cr(l,h),r=0;r<h;++r)bs(f[r],this,t);return!0};function ir(s,e,t,r){var n,i,o;if(Qe(t),i=s._events,i===void 0?(i=s._events=Object.create(null),s._eventsCount=0):(i.newListener!==void 0&&(s.emit("newListener",e,t.listener?t.listener:t),i=s._events),o=i[e]),o===void 0)o=i[e]=t,++s._eventsCount;else if(typeof o=="function"?o=i[e]=r?[t,o]:[o,t]:r?o.unshift(t):o.push(t),n=nr(s),n>0&&o.length>n&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=s,a.type=e,a.count=o.length,Ia(a)}return s}T.prototype.addListener=function(e,t){return ir(this,e,t,!1)};T.prototype.on=T.prototype.addListener;T.prototype.prependListener=function(e,t){return ir(this,e,t,!0)};function Fa(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function or(s,e,t){var r={fired:!1,wrapFn:void 0,target:s,type:e,listener:t},n=Fa.bind(r);return n.listener=t,r.wrapFn=n,n}T.prototype.once=function(e,t){return Qe(t),this.on(e,or(this,e,t)),this};T.prototype.prependOnceListener=function(e,t){return Qe(t),this.prependListener(e,or(this,e,t)),this};T.prototype.removeListener=function(e,t){var r,n,i,o,a;if(Qe(t),n=this._events,n===void 0)return this;if(r=n[e],r===void 0)return this;if(r===t||r.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if(typeof r!="function"){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;i===0?r.shift():Na(r,i),r.length===1&&(n[e]=r[0]),n.removeListener!==void 0&&this.emit("removeListener",e,a||t)}return this};T.prototype.off=T.prototype.removeListener;T.prototype.removeAllListeners=function(e){var t,r,n;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var i=Object.keys(r),o;for(n=0;n<i.length;++n)o=i[n],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=r[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this};function ar(s,e,t){var r=s._events;if(r===void 0)return[];var n=r[e];return n===void 0?[]:typeof n=="function"?t?[n.listener||n]:[n]:t?ja(n):cr(n,n.length)}T.prototype.listeners=function(e){return ar(this,e,!0)};T.prototype.rawListeners=function(e){return ar(this,e,!1)};T.listenerCount=function(s,e){return typeof s.listenerCount=="function"?s.listenerCount(e):lr.call(s,e)};T.prototype.listenerCount=lr;function lr(s){var e=this._events;if(e!==void 0){var t=e[s];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}T.prototype.eventNames=function(){return this._eventsCount>0?Ue(this._events):[]};function cr(s,e){for(var t=new Array(e),r=0;r<e;++r)t[r]=s[r];return t}function Na(s,e){for(;e+1<s.length;e++)s[e]=s[e+1];s.pop()}function ja(s){for(var e=new Array(s.length),t=0;t<e.length;++t)e[t]=s[t].listener||s[t];return e}const Da=Fe(xa);(function(){if(window.Reflect===void 0||window.customElements===void 0||window.customElements.polyfillWrapFlushCallback)return;const s=HTMLElement,e={HTMLElement:function(){return Reflect.construct(s,[],this.constructor)}};window.HTMLElement=e.HTMLElement,HTMLElement.prototype=s.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,s)})();(function(s){if(typeof s.requestSubmit=="function")return;s.requestSubmit=function(r){r?(e(r,this),r.click()):(r=document.createElement("input"),r.type="submit",r.hidden=!0,this.appendChild(r),r.click(),this.removeChild(r))};function e(r,n){r instanceof HTMLElement||t(TypeError,"parameter 1 is not of type 'HTMLElement'"),r.type=="submit"||t(TypeError,"The specified element is not a submit button"),r.form==n||t(DOMException,"The specified element is not owned by this form element","NotFoundError")}function t(r,n,i){throw new r("Failed to execute 'requestSubmit' on 'HTMLFormElement': "+n+".",i)}})(HTMLFormElement.prototype);const dr=new WeakMap;function Ba(s){const e=s instanceof Element?s:s instanceof Node?s.parentElement:null,t=e?e.closest("input, button"):null;return(t==null?void 0:t.type)=="submit"?t:null}function Ha(s){const e=Ba(s.target);e&&e.form&&dr.set(e.form,e)}(function(){if("submitter"in Event.prototype)return;let s=window.Event.prototype;if("SubmitEvent"in window&&/Apple Computer/.test(navigator.vendor))s=window.SubmitEvent.prototype;else if("SubmitEvent"in window)return;addEventListener("click",Ha,!0),Object.defineProperty(s,"submitter",{get(){if(this.type=="submit"&&this.target instanceof HTMLFormElement)return dr.get(this.target)}})})();var ce;(function(s){s.eager="eager",s.lazy="lazy"})(ce||(ce={}));class re extends HTMLElement{static get observedAttributes(){return["disabled","complete","loading","src"]}constructor(){super(),this.loaded=Promise.resolve(),this.delegate=new re.delegateConstructor(this)}connectedCallback(){this.delegate.connect()}disconnectedCallback(){this.delegate.disconnect()}reload(){return this.delegate.sourceURLReloaded()}attributeChangedCallback(e){e=="loading"?this.delegate.loadingStyleChanged():e=="complete"?this.delegate.completeChanged():e=="src"?this.delegate.sourceURLChanged():this.delegate.disabledChanged()}get src(){return this.getAttribute("src")}set src(e){e?this.setAttribute("src",e):this.removeAttribute("src")}get loading(){return Va(this.getAttribute("loading")||"")}set loading(e){e?this.setAttribute("loading",e):this.removeAttribute("loading")}get disabled(){return this.hasAttribute("disabled")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get autoscroll(){return this.hasAttribute("autoscroll")}set autoscroll(e){e?this.setAttribute("autoscroll",""):this.removeAttribute("autoscroll")}get complete(){return!this.delegate.isLoading}get isActive(){return this.ownerDocument===document&&!this.isPreview}get isPreview(){var e,t;return(t=(e=this.ownerDocument)===null||e===void 0?void 0:e.documentElement)===null||t===void 0?void 0:t.hasAttribute("data-turbo-preview")}}function Va(s){switch(s.toLowerCase()){case"lazy":return ce.lazy;default:return ce.eager}}function j(s){return new URL(s.toString(),document.baseURI)}function be(s){let e;if(s.hash)return s.hash.slice(1);if(e=s.href.match(/#(.*)$/))return e[1]}function jt(s,e){const t=(e==null?void 0:e.getAttribute("formaction"))||s.getAttribute("action")||s.action;return j(t)}function qa(s){return(Ka(s).match(/\.[^.]*$/)||[])[0]||""}function $a(s){return!!qa(s).match(/^(?:|\.(?:htm|html|xhtml|php))$/)}function Ua(s,e){const t=Ga(e);return s.href===j(t).href||s.href.startsWith(t)}function Te(s,e){return Ua(s,e)&&$a(s)}function Tt(s){const e=be(s);return e!=null?s.href.slice(0,-(e.length+1)):s.href}function He(s){return Tt(s)}function za(s,e){return j(s).href==j(e).href}function Wa(s){return s.pathname.split("/").slice(1)}function Ka(s){return Wa(s).slice(-1)[0]}function Ga(s){return Ja(s.origin+s.pathname)}function Ja(s){return s.endsWith("/")?s:s+"/"}class Dt{constructor(e){this.response=e}get succeeded(){return this.response.ok}get failed(){return!this.succeeded}get clientError(){return this.statusCode>=400&&this.statusCode<=499}get serverError(){return this.statusCode>=500&&this.statusCode<=599}get redirected(){return this.response.redirected}get location(){return j(this.response.url)}get isHTML(){return this.contentType&&this.contentType.match(/^(?:text\/([^\s;,]+\b)?html|application\/xhtml\+xml)\b/)}get statusCode(){return this.response.status}get contentType(){return this.header("Content-Type")}get responseText(){return this.response.clone().text()}get responseHTML(){return this.isHTML?this.response.clone().text():Promise.resolve(void 0)}header(e){return this.response.headers.get(e)}}function Me(s){if(s.getAttribute("data-turbo-eval")=="false")return s;{const e=document.createElement("script"),t=Ge("csp-nonce");return t&&(e.nonce=t),e.textContent=s.textContent,e.async=!1,Xa(e,s),e}}function Xa(s,e){for(const{name:t,value:r}of e.attributes)s.setAttribute(t,r)}function Ya(s){const e=document.createElement("template");return e.innerHTML=s,e.content}function N(s,{target:e,cancelable:t,detail:r}={}){const n=new CustomEvent(s,{cancelable:t,bubbles:!0,composed:!0,detail:r});return e&&e.isConnected?e.dispatchEvent(n):document.documentElement.dispatchEvent(n),n}function ze(){return new Promise(s=>requestAnimationFrame(()=>s()))}function Za(){return new Promise(s=>setTimeout(()=>s(),0))}function Qa(){return Promise.resolve()}function hr(s=""){return new DOMParser().parseFromString(s,"text/html")}function ur(s,...e){const t=el(s,e).replace(/^\n/,"").split(`
`),r=t[0].match(/^\s+/),n=r?r[0].length:0;return t.map(i=>i.slice(n)).join(`
`)}function el(s,e){return s.reduce((t,r,n)=>{const i=e[n]==null?"":e[n];return t+r+i},"")}function Ae(){return Array.from({length:36}).map((s,e)=>e==8||e==13||e==18||e==23?"-":e==14?"4":e==19?(Math.floor(Math.random()*4)+8).toString(16):Math.floor(Math.random()*15).toString(16)).join("")}function Ke(s,...e){for(const t of e.map(r=>r==null?void 0:r.getAttribute(s)))if(typeof t=="string")return t;return null}function tl(s,...e){return e.some(t=>t&&t.hasAttribute(s))}function At(...s){for(const e of s)e.localName=="turbo-frame"&&e.setAttribute("busy",""),e.setAttribute("aria-busy","true")}function Lt(...s){for(const e of s)e.localName=="turbo-frame"&&e.removeAttribute("busy"),e.removeAttribute("aria-busy")}function sl(s,e=2e3){return new Promise(t=>{const r=()=>{s.removeEventListener("error",r),s.removeEventListener("load",r),t()};s.addEventListener("load",r,{once:!0}),s.addEventListener("error",r,{once:!0}),setTimeout(t,e)})}function fr(s){switch(s){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}function rl(s){return s=="advance"||s=="replace"||s=="restore"}function et(...s){const e=Ke("data-turbo-action",...s);return rl(e)?e:null}function mr(s){return document.querySelector(`meta[name="${s}"]`)}function Ge(s){const e=mr(s);return e&&e.content}function nl(s,e){let t=mr(s);return t||(t=document.createElement("meta"),t.setAttribute("name",s),document.head.appendChild(t)),t.setAttribute("content",e),t}function Je(s,e){var t;if(s instanceof Element)return s.closest(e)||Je(s.assignedSlot||((t=s.getRootNode())===null||t===void 0?void 0:t.host),e)}var B;(function(s){s[s.get=0]="get",s[s.post=1]="post",s[s.put=2]="put",s[s.patch=3]="patch",s[s.delete=4]="delete"})(B||(B={}));function il(s){switch(s.toLowerCase()){case"get":return B.get;case"post":return B.post;case"put":return B.put;case"patch":return B.patch;case"delete":return B.delete}}class Bt{constructor(e,t,r,n=new URLSearchParams,i=null){this.abortController=new AbortController,this.resolveRequestPromise=o=>{},this.delegate=e,this.method=t,this.headers=this.defaultHeaders,this.body=n,this.url=r,this.target=i}get location(){return this.url}get params(){return this.url.searchParams}get entries(){return this.body?Array.from(this.body.entries()):[]}cancel(){this.abortController.abort()}async perform(){const{fetchOptions:e}=this;this.delegate.prepareRequest(this),await this.allowRequestToBeIntercepted(e);try{this.delegate.requestStarted(this);const t=await fetch(this.url.href,e);return await this.receive(t)}catch(t){if(t.name!=="AbortError")throw this.willDelegateErrorHandling(t)&&this.delegate.requestErrored(this,t),t}finally{this.delegate.requestFinished(this)}}async receive(e){const t=new Dt(e);return N("turbo:before-fetch-response",{cancelable:!0,detail:{fetchResponse:t},target:this.target}).defaultPrevented?this.delegate.requestPreventedHandlingResponse(this,t):t.succeeded?this.delegate.requestSucceededWithResponse(this,t):this.delegate.requestFailedWithResponse(this,t),t}get fetchOptions(){var e;return{method:B[this.method].toUpperCase(),credentials:"same-origin",headers:this.headers,redirect:"follow",body:this.isSafe?null:this.body,signal:this.abortSignal,referrer:(e=this.delegate.referrer)===null||e===void 0?void 0:e.href}}get defaultHeaders(){return{Accept:"text/html, application/xhtml+xml"}}get isSafe(){return this.method===B.get}get abortSignal(){return this.abortController.signal}acceptResponseType(e){this.headers.Accept=[e,this.headers.Accept].join(", ")}async allowRequestToBeIntercepted(e){const t=new Promise(n=>this.resolveRequestPromise=n);N("turbo:before-fetch-request",{cancelable:!0,detail:{fetchOptions:e,url:this.url,resume:this.resolveRequestPromise},target:this.target}).defaultPrevented&&await t}willDelegateErrorHandling(e){return!N("turbo:fetch-request-error",{target:this.target,cancelable:!0,detail:{request:this,error:e}}).defaultPrevented}}class ol{constructor(e,t){this.started=!1,this.intersect=r=>{const n=r.slice(-1)[0];n!=null&&n.isIntersecting&&this.delegate.elementAppearedInViewport(this.element)},this.delegate=e,this.element=t,this.intersectionObserver=new IntersectionObserver(this.intersect)}start(){this.started||(this.started=!0,this.intersectionObserver.observe(this.element))}stop(){this.started&&(this.started=!1,this.intersectionObserver.unobserve(this.element))}}class ye{static wrap(e){return typeof e=="string"?new this(Ya(e)):e}constructor(e){this.fragment=al(e)}}ye.contentType="text/vnd.turbo-stream.html";function al(s){for(const e of s.querySelectorAll("turbo-stream")){const t=document.importNode(e,!0);for(const r of t.templateElement.content.querySelectorAll("script"))r.replaceWith(Me(r));e.replaceWith(t)}return s}var ae;(function(s){s[s.initialized=0]="initialized",s[s.requesting=1]="requesting",s[s.waiting=2]="waiting",s[s.receiving=3]="receiving",s[s.stopping=4]="stopping",s[s.stopped=5]="stopped"})(ae||(ae={}));var le;(function(s){s.urlEncoded="application/x-www-form-urlencoded",s.multipart="multipart/form-data",s.plain="text/plain"})(le||(le={}));function ll(s){switch(s.toLowerCase()){case le.multipart:return le.multipart;case le.plain:return le.plain;default:return le.urlEncoded}}class Ne{static confirmMethod(e,t,r){return Promise.resolve(confirm(e))}constructor(e,t,r,n=!1){this.state=ae.initialized,this.delegate=e,this.formElement=t,this.submitter=r,this.formData=cl(t,r),this.location=j(this.action),this.method==B.get&&ul(this.location,[...this.body.entries()]),this.fetchRequest=new Bt(this,this.method,this.location,this.body,this.formElement),this.mustRedirect=n}get method(){var e;const t=((e=this.submitter)===null||e===void 0?void 0:e.getAttribute("formmethod"))||this.formElement.getAttribute("method")||"";return il(t.toLowerCase())||B.get}get action(){var e;const t=typeof this.formElement.action=="string"?this.formElement.action:null;return!((e=this.submitter)===null||e===void 0)&&e.hasAttribute("formaction")?this.submitter.getAttribute("formaction")||"":this.formElement.getAttribute("action")||t||""}get body(){return this.enctype==le.urlEncoded||this.method==B.get?new URLSearchParams(this.stringFormData):this.formData}get enctype(){var e;return ll(((e=this.submitter)===null||e===void 0?void 0:e.getAttribute("formenctype"))||this.formElement.enctype)}get isSafe(){return this.fetchRequest.isSafe}get stringFormData(){return[...this.formData].reduce((e,[t,r])=>e.concat(typeof r=="string"?[[t,r]]:[]),[])}async start(){const{initialized:e,requesting:t}=ae,r=Ke("data-turbo-confirm",this.submitter,this.formElement);if(!(typeof r=="string"&&!await Ne.confirmMethod(r,this.formElement,this.submitter))&&this.state==e)return this.state=t,this.fetchRequest.perform()}stop(){const{stopping:e,stopped:t}=ae;if(this.state!=e&&this.state!=t)return this.state=e,this.fetchRequest.cancel(),!0}prepareRequest(e){if(!e.isSafe){const t=dl(Ge("csrf-param"))||Ge("csrf-token");t&&(e.headers["X-CSRF-Token"]=t)}this.requestAcceptsTurboStreamResponse(e)&&e.acceptResponseType(ye.contentType)}requestStarted(e){var t;this.state=ae.waiting,(t=this.submitter)===null||t===void 0||t.setAttribute("disabled",""),this.setSubmitsWith(),N("turbo:submit-start",{target:this.formElement,detail:{formSubmission:this}}),this.delegate.formSubmissionStarted(this)}requestPreventedHandlingResponse(e,t){this.result={success:t.succeeded,fetchResponse:t}}requestSucceededWithResponse(e,t){if(t.clientError||t.serverError)this.delegate.formSubmissionFailedWithResponse(this,t);else if(this.requestMustRedirect(e)&&hl(t)){const r=new Error("Form responses must redirect to another location");this.delegate.formSubmissionErrored(this,r)}else this.state=ae.receiving,this.result={success:!0,fetchResponse:t},this.delegate.formSubmissionSucceededWithResponse(this,t)}requestFailedWithResponse(e,t){this.result={success:!1,fetchResponse:t},this.delegate.formSubmissionFailedWithResponse(this,t)}requestErrored(e,t){this.result={success:!1,error:t},this.delegate.formSubmissionErrored(this,t)}requestFinished(e){var t;this.state=ae.stopped,(t=this.submitter)===null||t===void 0||t.removeAttribute("disabled"),this.resetSubmitterText(),N("turbo:submit-end",{target:this.formElement,detail:Object.assign({formSubmission:this},this.result)}),this.delegate.formSubmissionFinished(this)}setSubmitsWith(){if(!(!this.submitter||!this.submitsWith)){if(this.submitter.matches("button"))this.originalSubmitText=this.submitter.innerHTML,this.submitter.innerHTML=this.submitsWith;else if(this.submitter.matches("input")){const e=this.submitter;this.originalSubmitText=e.value,e.value=this.submitsWith}}}resetSubmitterText(){if(!(!this.submitter||!this.originalSubmitText)){if(this.submitter.matches("button"))this.submitter.innerHTML=this.originalSubmitText;else if(this.submitter.matches("input")){const e=this.submitter;e.value=this.originalSubmitText}}}requestMustRedirect(e){return!e.isSafe&&this.mustRedirect}requestAcceptsTurboStreamResponse(e){return!e.isSafe||tl("data-turbo-stream",this.submitter,this.formElement)}get submitsWith(){var e;return(e=this.submitter)===null||e===void 0?void 0:e.getAttribute("data-turbo-submits-with")}}function cl(s,e){const t=new FormData(s),r=e==null?void 0:e.getAttribute("name"),n=e==null?void 0:e.getAttribute("value");return r&&t.append(r,n||""),t}function dl(s){if(s!=null){const t=(document.cookie?document.cookie.split("; "):[]).find(r=>r.startsWith(s));if(t){const r=t.split("=").slice(1).join("=");return r?decodeURIComponent(r):void 0}}}function hl(s){return s.statusCode==200&&!s.redirected}function ul(s,e){const t=new URLSearchParams;for(const[r,n]of e)n instanceof File||t.append(r,n);return s.search=t.toString(),s}class tt{constructor(e){this.element=e}get activeElement(){return this.element.ownerDocument.activeElement}get children(){return[...this.element.children]}hasAnchor(e){return this.getElementForAnchor(e)!=null}getElementForAnchor(e){return e?this.element.querySelector(`[id='${e}'], a[name='${e}']`):null}get isConnected(){return this.element.isConnected}get firstAutofocusableElement(){const e="[inert], :disabled, [hidden], details:not([open]), dialog:not([open])";for(const t of this.element.querySelectorAll("[autofocus]"))if(t.closest(e)==null)return t;return null}get permanentElements(){return gr(this.element)}getPermanentElementById(e){return pr(this.element,e)}getPermanentElementMapForSnapshot(e){const t={};for(const r of this.permanentElements){const{id:n}=r,i=e.getPermanentElementById(n);i&&(t[n]=[r,i])}return t}}function pr(s,e){return s.querySelector(`#${e}[data-turbo-permanent]`)}function gr(s){return s.querySelectorAll("[id][data-turbo-permanent]")}class Ht{constructor(e,t){this.started=!1,this.submitCaptured=()=>{this.eventTarget.removeEventListener("submit",this.submitBubbled,!1),this.eventTarget.addEventListener("submit",this.submitBubbled,!1)},this.submitBubbled=r=>{if(!r.defaultPrevented){const n=r.target instanceof HTMLFormElement?r.target:void 0,i=r.submitter||void 0;n&&fl(n,i)&&ml(n,i)&&this.delegate.willSubmitForm(n,i)&&(r.preventDefault(),r.stopImmediatePropagation(),this.delegate.formSubmitted(n,i))}},this.delegate=e,this.eventTarget=t}start(){this.started||(this.eventTarget.addEventListener("submit",this.submitCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("submit",this.submitCaptured,!0),this.started=!1)}}function fl(s,e){return((e==null?void 0:e.getAttribute("formmethod"))||s.getAttribute("method"))!="dialog"}function ml(s,e){if(e!=null&&e.hasAttribute("formtarget")||s.hasAttribute("target")){const t=(e==null?void 0:e.getAttribute("formtarget"))||s.target;for(const r of document.getElementsByName(t))if(r instanceof HTMLIFrameElement)return!1;return!0}else return!0}class br{constructor(e,t){this.resolveRenderPromise=r=>{},this.resolveInterceptionPromise=r=>{},this.delegate=e,this.element=t}scrollToAnchor(e){const t=this.snapshot.getElementForAnchor(e);t?(this.scrollToElement(t),this.focusElement(t)):this.scrollToPosition({x:0,y:0})}scrollToAnchorFromLocation(e){this.scrollToAnchor(be(e))}scrollToElement(e){e.scrollIntoView()}focusElement(e){e instanceof HTMLElement&&(e.hasAttribute("tabindex")?e.focus():(e.setAttribute("tabindex","-1"),e.focus(),e.removeAttribute("tabindex")))}scrollToPosition({x:e,y:t}){this.scrollRoot.scrollTo(e,t)}scrollToTop(){this.scrollToPosition({x:0,y:0})}get scrollRoot(){return window}async render(e){const{isPreview:t,shouldRender:r,newSnapshot:n}=e;if(r)try{this.renderPromise=new Promise(l=>this.resolveRenderPromise=l),this.renderer=e,await this.prepareToRenderSnapshot(e);const i=new Promise(l=>this.resolveInterceptionPromise=l),o={resume:this.resolveInterceptionPromise,render:this.renderer.renderElement};this.delegate.allowsImmediateRender(n,o)||await i,await this.renderSnapshot(e),this.delegate.viewRenderedSnapshot(n,t),this.delegate.preloadOnLoadLinksForView(this.element),this.finishRenderingSnapshot(e)}finally{delete this.renderer,this.resolveRenderPromise(void 0),delete this.renderPromise}else this.invalidate(e.reloadReason)}invalidate(e){this.delegate.viewInvalidated(e)}async prepareToRenderSnapshot(e){this.markAsPreview(e.isPreview),await e.prepareToRender()}markAsPreview(e){e?this.element.setAttribute("data-turbo-preview",""):this.element.removeAttribute("data-turbo-preview")}async renderSnapshot(e){await e.render()}finishRenderingSnapshot(e){e.finishRendering()}}class pl extends br{missing(){this.element.innerHTML='<strong class="turbo-frame-error">Content missing</strong>'}get snapshot(){return new tt(this.element)}}class vr{constructor(e,t){this.clickBubbled=r=>{this.respondsToEventTarget(r.target)?this.clickEvent=r:delete this.clickEvent},this.linkClicked=r=>{this.clickEvent&&this.respondsToEventTarget(r.target)&&r.target instanceof Element&&this.delegate.shouldInterceptLinkClick(r.target,r.detail.url,r.detail.originalEvent)&&(this.clickEvent.preventDefault(),r.preventDefault(),this.delegate.linkClickIntercepted(r.target,r.detail.url,r.detail.originalEvent)),delete this.clickEvent},this.willVisit=r=>{delete this.clickEvent},this.delegate=e,this.element=t}start(){this.element.addEventListener("click",this.clickBubbled),document.addEventListener("turbo:click",this.linkClicked),document.addEventListener("turbo:before-visit",this.willVisit)}stop(){this.element.removeEventListener("click",this.clickBubbled),document.removeEventListener("turbo:click",this.linkClicked),document.removeEventListener("turbo:before-visit",this.willVisit)}respondsToEventTarget(e){const t=e instanceof Element?e:e instanceof Node?e.parentElement:null;return t&&t.closest("turbo-frame, html")==this.element}}class yr{constructor(e,t){this.started=!1,this.clickCaptured=()=>{this.eventTarget.removeEventListener("click",this.clickBubbled,!1),this.eventTarget.addEventListener("click",this.clickBubbled,!1)},this.clickBubbled=r=>{if(r instanceof MouseEvent&&this.clickEventIsSignificant(r)){const n=r.composedPath&&r.composedPath()[0]||r.target,i=this.findLinkFromClickTarget(n);if(i&&gl(i)){const o=this.getLocationForLink(i);this.delegate.willFollowLinkToLocation(i,o,r)&&(r.preventDefault(),this.delegate.followedLinkToLocation(i,o))}}},this.delegate=e,this.eventTarget=t}start(){this.started||(this.eventTarget.addEventListener("click",this.clickCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("click",this.clickCaptured,!0),this.started=!1)}clickEventIsSignificant(e){return!(e.target&&e.target.isContentEditable||e.defaultPrevented||e.which>1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}findLinkFromClickTarget(e){return Je(e,"a[href]:not([target^=_]):not([download])")}getLocationForLink(e){return j(e.getAttribute("href")||"")}}function gl(s){if(s.hasAttribute("target")){for(const e of document.getElementsByName(s.target))if(e instanceof HTMLIFrameElement)return!1;return!0}else return!0}class wr{constructor(e,t){this.delegate=e,this.linkInterceptor=new yr(this,t)}start(){this.linkInterceptor.start()}stop(){this.linkInterceptor.stop()}willFollowLinkToLocation(e,t,r){return this.delegate.willSubmitFormLinkToLocation(e,t,r)&&e.hasAttribute("data-turbo-method")}followedLinkToLocation(e,t){const r=document.createElement("form"),n="hidden";for(const[S,c]of t.searchParams)r.append(Object.assign(document.createElement("input"),{type:n,name:S,value:c}));const i=Object.assign(t,{search:""});r.setAttribute("data-turbo","true"),r.setAttribute("action",i.href),r.setAttribute("hidden","");const o=e.getAttribute("data-turbo-method");o&&r.setAttribute("method",o);const a=e.getAttribute("data-turbo-frame");a&&r.setAttribute("data-turbo-frame",a);const l=et(e);l&&r.setAttribute("data-turbo-action",l);const h=e.getAttribute("data-turbo-confirm");h&&r.setAttribute("data-turbo-confirm",h),e.hasAttribute("data-turbo-stream")&&r.setAttribute("data-turbo-stream",""),this.delegate.submittedFormLinkToLocation(e,t,r),document.body.appendChild(r),r.addEventListener("turbo:submit-end",()=>r.remove(),{once:!0}),requestAnimationFrame(()=>r.requestSubmit())}}class _r{static async preservingPermanentElements(e,t,r){const n=new this(e,t);n.enter(),await r(),n.leave()}constructor(e,t){this.delegate=e,this.permanentElementMap=t}enter(){for(const e in this.permanentElementMap){const[t,r]=this.permanentElementMap[e];this.delegate.enteringBardo(t,r),this.replaceNewPermanentElementWithPlaceholder(r)}}leave(){for(const e in this.permanentElementMap){const[t]=this.permanentElementMap[e];this.replaceCurrentPermanentElementWithClone(t),this.replacePlaceholderWithPermanentElement(t),this.delegate.leavingBardo(t)}}replaceNewPermanentElementWithPlaceholder(e){const t=bl(e);e.replaceWith(t)}replaceCurrentPermanentElementWithClone(e){const t=e.cloneNode(!0);e.replaceWith(t)}replacePlaceholderWithPermanentElement(e){const t=this.getPlaceholderById(e.id);t==null||t.replaceWith(e)}getPlaceholderById(e){return this.placeholders.find(t=>t.content==e)}get placeholders(){return[...document.querySelectorAll("meta[name=turbo-permanent-placeholder][content]")]}}function bl(s){const e=document.createElement("meta");return e.setAttribute("name","turbo-permanent-placeholder"),e.setAttribute("content",s.id),e}class Vt{constructor(e,t,r,n,i=!0){this.activeElement=null,this.currentSnapshot=e,this.newSnapshot=t,this.isPreview=n,this.willRender=i,this.renderElement=r,this.promise=new Promise((o,a)=>this.resolvingFunctions={resolve:o,reject:a})}get shouldRender(){return!0}get reloadReason(){}prepareToRender(){}finishRendering(){this.resolvingFunctions&&(this.resolvingFunctions.resolve(),delete this.resolvingFunctions)}async preservingPermanentElements(e){await _r.preservingPermanentElements(this,this.permanentElementMap,e)}focusFirstAutofocusableElement(){const e=this.connectedSnapshot.firstAutofocusableElement;vl(e)&&e.focus()}enteringBardo(e){this.activeElement||e.contains(this.currentSnapshot.activeElement)&&(this.activeElement=this.currentSnapshot.activeElement)}leavingBardo(e){e.contains(this.activeElement)&&this.activeElement instanceof HTMLElement&&(this.activeElement.focus(),this.activeElement=null)}get connectedSnapshot(){return this.newSnapshot.isConnected?this.newSnapshot:this.currentSnapshot}get currentElement(){return this.currentSnapshot.element}get newElement(){return this.newSnapshot.element}get permanentElementMap(){return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot)}}function vl(s){return s&&typeof s.focus=="function"}class Ct extends Vt{static renderElement(e,t){var r;const n=document.createRange();n.selectNodeContents(e),n.deleteContents();const i=t,o=(r=i.ownerDocument)===null||r===void 0?void 0:r.createRange();o&&(o.selectNodeContents(i),e.appendChild(o.extractContents()))}constructor(e,t,r,n,i,o=!0){super(t,r,n,i,o),this.delegate=e}get shouldRender(){return!0}async render(){await ze(),this.preservingPermanentElements(()=>{this.loadFrameElement()}),this.scrollFrameIntoView(),await ze(),this.focusFirstAutofocusableElement(),await ze(),this.activateScriptElements()}loadFrameElement(){this.delegate.willRenderFrame(this.currentElement,this.newElement),this.renderElement(this.currentElement,this.newElement)}scrollFrameIntoView(){if(this.currentElement.autoscroll||this.newElement.autoscroll){const e=this.currentElement.firstElementChild,t=yl(this.currentElement.getAttribute("data-autoscroll-block"),"end"),r=wl(this.currentElement.getAttribute("data-autoscroll-behavior"),"auto");if(e)return e.scrollIntoView({block:t,behavior:r}),!0}return!1}activateScriptElements(){for(const e of this.newScriptElements){const t=Me(e);e.replaceWith(t)}}get newScriptElements(){return this.currentElement.querySelectorAll("script")}}function yl(s,e){return s=="end"||s=="start"||s=="center"||s=="nearest"?s:e}function wl(s,e){return s=="auto"||s=="smooth"?s:e}class te{static get defaultCSS(){return ur`
      .turbo-progress-bar {
        position: fixed;
        display: block;
        top: 0;
        left: 0;
        height: 3px;
        background: #0076ff;
        z-index: 2147483647;
        transition:
          width ${te.animationDuration}ms ease-out,
          opacity ${te.animationDuration/2}ms ${te.animationDuration/2}ms ease-in;
        transform: translate3d(0, 0, 0);
      }
    `}constructor(){this.hiding=!1,this.value=0,this.visible=!1,this.trickle=()=>{this.setValue(this.value+Math.random()/100)},this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement(),this.installStylesheetElement(),this.setValue(0)}show(){this.visible||(this.visible=!0,this.installProgressElement(),this.startTrickling())}hide(){this.visible&&!this.hiding&&(this.hiding=!0,this.fadeProgressElement(()=>{this.uninstallProgressElement(),this.stopTrickling(),this.visible=!1,this.hiding=!1}))}setValue(e){this.value=e,this.refresh()}installStylesheetElement(){document.head.insertBefore(this.stylesheetElement,document.head.firstChild)}installProgressElement(){this.progressElement.style.width="0",this.progressElement.style.opacity="1",document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()}fadeProgressElement(e){this.progressElement.style.opacity="0",setTimeout(e,te.animationDuration*1.5)}uninstallProgressElement(){this.progressElement.parentNode&&document.documentElement.removeChild(this.progressElement)}startTrickling(){this.trickleInterval||(this.trickleInterval=window.setInterval(this.trickle,te.animationDuration))}stopTrickling(){window.clearInterval(this.trickleInterval),delete this.trickleInterval}refresh(){requestAnimationFrame(()=>{this.progressElement.style.width=`${10+this.value*90}%`})}createStylesheetElement(){const e=document.createElement("style");return e.type="text/css",e.textContent=te.defaultCSS,this.cspNonce&&(e.nonce=this.cspNonce),e}createProgressElement(){const e=document.createElement("div");return e.className="turbo-progress-bar",e}get cspNonce(){return Ge("csp-nonce")}}te.animationDuration=300;class _l extends tt{constructor(){super(...arguments),this.detailsByOuterHTML=this.children.filter(e=>!Al(e)).map(e=>kl(e)).reduce((e,t)=>{const{outerHTML:r}=t,n=r in e?e[r]:{type:El(t),tracked:Sl(t),elements:[]};return Object.assign(Object.assign({},e),{[r]:Object.assign(Object.assign({},n),{elements:[...n.elements,t]})})},{})}get trackedElementSignature(){return Object.keys(this.detailsByOuterHTML).filter(e=>this.detailsByOuterHTML[e].tracked).join("")}getScriptElementsNotInSnapshot(e){return this.getElementsMatchingTypeNotInSnapshot("script",e)}getStylesheetElementsNotInSnapshot(e){return this.getElementsMatchingTypeNotInSnapshot("stylesheet",e)}getElementsMatchingTypeNotInSnapshot(e,t){return Object.keys(this.detailsByOuterHTML).filter(r=>!(r in t.detailsByOuterHTML)).map(r=>this.detailsByOuterHTML[r]).filter(({type:r})=>r==e).map(({elements:[r]})=>r)}get provisionalElements(){return Object.keys(this.detailsByOuterHTML).reduce((e,t)=>{const{type:r,tracked:n,elements:i}=this.detailsByOuterHTML[t];return r==null&&!n?[...e,...i]:i.length>1?[...e,...i.slice(1)]:e},[])}getMetaValue(e){const t=this.findMetaElementByName(e);return t?t.getAttribute("content"):null}findMetaElementByName(e){return Object.keys(this.detailsByOuterHTML).reduce((t,r)=>{const{elements:[n]}=this.detailsByOuterHTML[r];return Cl(n,e)?n:t},void 0)}}function El(s){if(Tl(s))return"script";if(Ll(s))return"stylesheet"}function Sl(s){return s.getAttribute("data-turbo-track")=="reload"}function Tl(s){return s.localName=="script"}function Al(s){return s.localName=="noscript"}function Ll(s){const e=s.localName;return e=="style"||e=="link"&&s.getAttribute("rel")=="stylesheet"}function Cl(s,e){return s.localName=="meta"&&s.getAttribute("name")==e}function kl(s){return s.hasAttribute("nonce")&&s.setAttribute("nonce",""),s}class J extends tt{static fromHTMLString(e=""){return this.fromDocument(hr(e))}static fromElement(e){return this.fromDocument(e.ownerDocument)}static fromDocument({head:e,body:t}){return new this(t,new _l(e))}constructor(e,t){super(e),this.headSnapshot=t}clone(){const e=this.element.cloneNode(!0),t=this.element.querySelectorAll("select"),r=e.querySelectorAll("select");for(const[n,i]of t.entries()){const o=r[n];for(const a of o.selectedOptions)a.selected=!1;for(const a of i.selectedOptions)o.options[a.index].selected=!0}for(const n of e.querySelectorAll('input[type="password"]'))n.value="";return new J(e,this.headSnapshot)}get headElement(){return this.headSnapshot.element}get rootLocation(){var e;const t=(e=this.getSetting("root"))!==null&&e!==void 0?e:"/";return j(t)}get cacheControlValue(){return this.getSetting("cache-control")}get isPreviewable(){return this.cacheControlValue!="no-preview"}get isCacheable(){return this.cacheControlValue!="no-cache"}get isVisitable(){return this.getSetting("visit-control")!="reload"}getSetting(e){return this.headSnapshot.getMetaValue(`turbo-${e}`)}}var Ee;(function(s){s.visitStart="visitStart",s.requestStart="requestStart",s.requestEnd="requestEnd",s.visitEnd="visitEnd"})(Ee||(Ee={}));var G;(function(s){s.initialized="initialized",s.started="started",s.canceled="canceled",s.failed="failed",s.completed="completed"})(G||(G={}));const Ol={action:"advance",historyChanged:!1,visitCachedSnapshot:()=>{},willRender:!0,updateHistory:!0,shouldCacheSnapshot:!0,acceptsStreamResponse:!1};var de;(function(s){s[s.networkFailure=0]="networkFailure",s[s.timeoutFailure=-1]="timeoutFailure",s[s.contentTypeMismatch=-2]="contentTypeMismatch"})(de||(de={}));class Pl{constructor(e,t,r,n={}){this.identifier=Ae(),this.timingMetrics={},this.followedRedirect=!1,this.historyChanged=!1,this.scrolled=!1,this.shouldCacheSnapshot=!0,this.acceptsStreamResponse=!1,this.snapshotCached=!1,this.state=G.initialized,this.delegate=e,this.location=t,this.restorationIdentifier=r||Ae();const{action:i,historyChanged:o,referrer:a,snapshot:l,snapshotHTML:h,response:f,visitCachedSnapshot:S,willRender:c,updateHistory:_,shouldCacheSnapshot:L,acceptsStreamResponse:E}=Object.assign(Object.assign({},Ol),n);this.action=i,this.historyChanged=o,this.referrer=a,this.snapshot=l,this.snapshotHTML=h,this.response=f,this.isSamePage=this.delegate.locationWithActionIsSamePage(this.location,this.action),this.visitCachedSnapshot=S,this.willRender=c,this.updateHistory=_,this.scrolled=!c,this.shouldCacheSnapshot=L,this.acceptsStreamResponse=E}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}get restorationData(){return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)}get silent(){return this.isSamePage}start(){this.state==G.initialized&&(this.recordTimingMetric(Ee.visitStart),this.state=G.started,this.adapter.visitStarted(this),this.delegate.visitStarted(this))}cancel(){this.state==G.started&&(this.request&&this.request.cancel(),this.cancelRender(),this.state=G.canceled)}complete(){this.state==G.started&&(this.recordTimingMetric(Ee.visitEnd),this.state=G.completed,this.followRedirect(),this.followedRedirect||(this.adapter.visitCompleted(this),this.delegate.visitCompleted(this)))}fail(){this.state==G.started&&(this.state=G.failed,this.adapter.visitFailed(this))}changeHistory(){var e;if(!this.historyChanged&&this.updateHistory){const t=this.location.href===((e=this.referrer)===null||e===void 0?void 0:e.href)?"replace":this.action,r=fr(t);this.history.update(r,this.location,this.restorationIdentifier),this.historyChanged=!0}}issueRequest(){this.hasPreloadedResponse()?this.simulateRequest():this.shouldIssueRequest()&&!this.request&&(this.request=new Bt(this,B.get,this.location),this.request.perform())}simulateRequest(){this.response&&(this.startRequest(),this.recordResponse(),this.finishRequest())}startRequest(){this.recordTimingMetric(Ee.requestStart),this.adapter.visitRequestStarted(this)}recordResponse(e=this.response){if(this.response=e,e){const{statusCode:t}=e;ys(t)?this.adapter.visitRequestCompleted(this):this.adapter.visitRequestFailedWithStatusCode(this,t)}}finishRequest(){this.recordTimingMetric(Ee.requestEnd),this.adapter.visitRequestFinished(this)}loadResponse(){if(this.response){const{statusCode:e,responseHTML:t}=this.response;this.render(async()=>{this.shouldCacheSnapshot&&this.cacheSnapshot(),this.view.renderPromise&&await this.view.renderPromise,ys(e)&&t!=null?(await this.view.renderPage(J.fromHTMLString(t),!1,this.willRender,this),this.performScroll(),this.adapter.visitRendered(this),this.complete()):(await this.view.renderError(J.fromHTMLString(t),this),this.adapter.visitRendered(this),this.fail())})}}getCachedSnapshot(){const e=this.view.getCachedSnapshotForLocation(this.location)||this.getPreloadedSnapshot();if(e&&(!be(this.location)||e.hasAnchor(be(this.location)))&&(this.action=="restore"||e.isPreviewable))return e}getPreloadedSnapshot(){if(this.snapshotHTML)return J.fromHTMLString(this.snapshotHTML)}hasCachedSnapshot(){return this.getCachedSnapshot()!=null}loadCachedSnapshot(){const e=this.getCachedSnapshot();if(e){const t=this.shouldIssueRequest();this.render(async()=>{this.cacheSnapshot(),this.isSamePage?this.adapter.visitRendered(this):(this.view.renderPromise&&await this.view.renderPromise,await this.view.renderPage(e,t,this.willRender,this),this.performScroll(),this.adapter.visitRendered(this),t||this.complete())})}}followRedirect(){var e;this.redirectedToLocation&&!this.followedRedirect&&(!((e=this.response)===null||e===void 0)&&e.redirected)&&(this.adapter.visitProposedToLocation(this.redirectedToLocation,{action:"replace",response:this.response,shouldCacheSnapshot:!1,willRender:!1}),this.followedRedirect=!0)}goToSamePageAnchor(){this.isSamePage&&this.render(async()=>{this.cacheSnapshot(),this.performScroll(),this.changeHistory(),this.adapter.visitRendered(this)})}prepareRequest(e){this.acceptsStreamResponse&&e.acceptResponseType(ye.contentType)}requestStarted(){this.startRequest()}requestPreventedHandlingResponse(e,t){}async requestSucceededWithResponse(e,t){const r=await t.responseHTML,{redirected:n,statusCode:i}=t;r==null?this.recordResponse({statusCode:de.contentTypeMismatch,redirected:n}):(this.redirectedToLocation=t.redirected?t.location:void 0,this.recordResponse({statusCode:i,responseHTML:r,redirected:n}))}async requestFailedWithResponse(e,t){const r=await t.responseHTML,{redirected:n,statusCode:i}=t;r==null?this.recordResponse({statusCode:de.contentTypeMismatch,redirected:n}):this.recordResponse({statusCode:i,responseHTML:r,redirected:n})}requestErrored(e,t){this.recordResponse({statusCode:de.networkFailure,redirected:!1})}requestFinished(){this.finishRequest()}performScroll(){!this.scrolled&&!this.view.forceReloaded&&(this.action=="restore"?this.scrollToRestoredPosition()||this.scrollToAnchor()||this.view.scrollToTop():this.scrollToAnchor()||this.view.scrollToTop(),this.isSamePage&&this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation,this.location),this.scrolled=!0)}scrollToRestoredPosition(){const{scrollPosition:e}=this.restorationData;if(e)return this.view.scrollToPosition(e),!0}scrollToAnchor(){const e=be(this.location);if(e!=null)return this.view.scrollToAnchor(e),!0}recordTimingMetric(e){this.timingMetrics[e]=new Date().getTime()}getTimingMetrics(){return Object.assign({},this.timingMetrics)}getHistoryMethodForAction(e){switch(e){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}hasPreloadedResponse(){return typeof this.response=="object"}shouldIssueRequest(){return this.isSamePage?!1:this.action=="restore"?!this.hasCachedSnapshot():this.willRender}cacheSnapshot(){this.snapshotCached||(this.view.cacheSnapshot(this.snapshot).then(e=>e&&this.visitCachedSnapshot(e)),this.snapshotCached=!0)}async render(e){this.cancelRender(),await new Promise(t=>{this.frame=requestAnimationFrame(()=>t())}),await e(),delete this.frame}cancelRender(){this.frame&&(cancelAnimationFrame(this.frame),delete this.frame)}}function ys(s){return s>=200&&s<300}class Rl{constructor(e){this.progressBar=new te,this.showProgressBar=()=>{this.progressBar.show()},this.session=e}visitProposedToLocation(e,t){this.navigator.startVisit(e,(t==null?void 0:t.restorationIdentifier)||Ae(),t)}visitStarted(e){this.location=e.location,e.loadCachedSnapshot(),e.issueRequest(),e.goToSamePageAnchor()}visitRequestStarted(e){this.progressBar.setValue(0),e.hasCachedSnapshot()||e.action!="restore"?this.showVisitProgressBarAfterDelay():this.showProgressBar()}visitRequestCompleted(e){e.loadResponse()}visitRequestFailedWithStatusCode(e,t){switch(t){case de.networkFailure:case de.timeoutFailure:case de.contentTypeMismatch:return this.reload({reason:"request_failed",context:{statusCode:t}});default:return e.loadResponse()}}visitRequestFinished(e){this.progressBar.setValue(1),this.hideVisitProgressBar()}visitCompleted(e){}pageInvalidated(e){this.reload(e)}visitFailed(e){}visitRendered(e){}formSubmissionStarted(e){this.progressBar.setValue(0),this.showFormProgressBarAfterDelay()}formSubmissionFinished(e){this.progressBar.setValue(1),this.hideFormProgressBar()}showVisitProgressBarAfterDelay(){this.visitProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay)}hideVisitProgressBar(){this.progressBar.hide(),this.visitProgressBarTimeout!=null&&(window.clearTimeout(this.visitProgressBarTimeout),delete this.visitProgressBarTimeout)}showFormProgressBarAfterDelay(){this.formProgressBarTimeout==null&&(this.formProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay))}hideFormProgressBar(){this.progressBar.hide(),this.formProgressBarTimeout!=null&&(window.clearTimeout(this.formProgressBarTimeout),delete this.formProgressBarTimeout)}reload(e){var t;N("turbo:reload",{detail:e}),window.location.href=((t=this.location)===null||t===void 0?void 0:t.toString())||window.location.href}get navigator(){return this.session.navigator}}class Ml{constructor(){this.selector="[data-turbo-temporary]",this.deprecatedSelector="[data-turbo-cache=false]",this.started=!1,this.removeTemporaryElements=e=>{for(const t of this.temporaryElements)t.remove()}}start(){this.started||(this.started=!0,addEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}get temporaryElements(){return[...document.querySelectorAll(this.selector),...this.temporaryElementsWithDeprecation]}get temporaryElementsWithDeprecation(){const e=document.querySelectorAll(this.deprecatedSelector);return e.length&&console.warn(`The ${this.deprecatedSelector} selector is deprecated and will be removed in a future version. Use ${this.selector} instead.`),[...e]}}class Il{constructor(e,t){this.session=e,this.element=t,this.linkInterceptor=new vr(this,t),this.formSubmitObserver=new Ht(this,t)}start(){this.linkInterceptor.start(),this.formSubmitObserver.start()}stop(){this.linkInterceptor.stop(),this.formSubmitObserver.stop()}shouldInterceptLinkClick(e,t,r){return this.shouldRedirect(e)}linkClickIntercepted(e,t,r){const n=this.findFrameElement(e);n&&n.delegate.linkClickIntercepted(e,t,r)}willSubmitForm(e,t){return e.closest("turbo-frame")==null&&this.shouldSubmit(e,t)&&this.shouldRedirect(e,t)}formSubmitted(e,t){const r=this.findFrameElement(e,t);r&&r.delegate.formSubmitted(e,t)}shouldSubmit(e,t){var r;const n=jt(e,t),i=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),o=j((r=i==null?void 0:i.content)!==null&&r!==void 0?r:"/");return this.shouldRedirect(e,t)&&Te(n,o)}shouldRedirect(e,t){if(e instanceof HTMLFormElement?this.session.submissionIsNavigatable(e,t):this.session.elementIsNavigatable(e)){const n=this.findFrameElement(e,t);return n?n!=e.closest("turbo-frame"):!1}else return!1}findFrameElement(e,t){const r=(t==null?void 0:t.getAttribute("data-turbo-frame"))||e.getAttribute("data-turbo-frame");if(r&&r!="_top"){const n=this.element.querySelector(`#${r}:not([disabled])`);if(n instanceof re)return n}}}class xl{constructor(e){this.restorationIdentifier=Ae(),this.restorationData={},this.started=!1,this.pageLoaded=!1,this.onPopState=t=>{if(this.shouldHandlePopState()){const{turbo:r}=t.state||{};if(r){this.location=new URL(window.location.href);const{restorationIdentifier:n}=r;this.restorationIdentifier=n,this.delegate.historyPoppedToLocationWithRestorationIdentifier(this.location,n)}}},this.onPageLoad=async t=>{await Qa(),this.pageLoaded=!0},this.delegate=e}start(){this.started||(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0,this.replace(new URL(window.location.href)))}stop(){this.started&&(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1)}push(e,t){this.update(history.pushState,e,t)}replace(e,t){this.update(history.replaceState,e,t)}update(e,t,r=Ae()){const n={turbo:{restorationIdentifier:r}};e.call(history,n,"",t.href),this.location=t,this.restorationIdentifier=r}getRestorationDataForIdentifier(e){return this.restorationData[e]||{}}updateRestorationData(e){const{restorationIdentifier:t}=this,r=this.restorationData[t];this.restorationData[t]=Object.assign(Object.assign({},r),e)}assumeControlOfScrollRestoration(){var e;this.previousScrollRestoration||(this.previousScrollRestoration=(e=history.scrollRestoration)!==null&&e!==void 0?e:"auto",history.scrollRestoration="manual")}relinquishControlOfScrollRestoration(){this.previousScrollRestoration&&(history.scrollRestoration=this.previousScrollRestoration,delete this.previousScrollRestoration)}shouldHandlePopState(){return this.pageIsLoaded()}pageIsLoaded(){return this.pageLoaded||document.readyState=="complete"}}class Fl{constructor(e){this.delegate=e}proposeVisit(e,t={}){this.delegate.allowsVisitingLocationWithAction(e,t.action)&&(Te(e,this.view.snapshot.rootLocation)?this.delegate.visitProposedToLocation(e,t):window.location.href=e.toString())}startVisit(e,t,r={}){this.stop(),this.currentVisit=new Pl(this,j(e),t,Object.assign({referrer:this.location},r)),this.currentVisit.start()}submitForm(e,t){this.stop(),this.formSubmission=new Ne(this,e,t,!0),this.formSubmission.start()}stop(){this.formSubmission&&(this.formSubmission.stop(),delete this.formSubmission),this.currentVisit&&(this.currentVisit.cancel(),delete this.currentVisit)}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}formSubmissionStarted(e){typeof this.adapter.formSubmissionStarted=="function"&&this.adapter.formSubmissionStarted(e)}async formSubmissionSucceededWithResponse(e,t){if(e==this.formSubmission){const r=await t.responseHTML;if(r){const n=e.isSafe;n||this.view.clearSnapshotCache();const{statusCode:i,redirected:o}=t,l={action:this.getActionForFormSubmission(e),shouldCacheSnapshot:n,response:{statusCode:i,responseHTML:r,redirected:o}};this.proposeVisit(t.location,l)}}}async formSubmissionFailedWithResponse(e,t){const r=await t.responseHTML;if(r){const n=J.fromHTMLString(r);t.serverError?await this.view.renderError(n,this.currentVisit):await this.view.renderPage(n,!1,!0,this.currentVisit),this.view.scrollToTop(),this.view.clearSnapshotCache()}}formSubmissionErrored(e,t){console.error(t)}formSubmissionFinished(e){typeof this.adapter.formSubmissionFinished=="function"&&this.adapter.formSubmissionFinished(e)}visitStarted(e){this.delegate.visitStarted(e)}visitCompleted(e){this.delegate.visitCompleted(e)}locationWithActionIsSamePage(e,t){const r=be(e),n=be(this.view.lastRenderedLocation),i=t==="restore"&&typeof r>"u";return t!=="replace"&&Tt(e)===Tt(this.view.lastRenderedLocation)&&(i||r!=null&&r!==n)}visitScrolledToSamePageLocation(e,t){this.delegate.visitScrolledToSamePageLocation(e,t)}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}getActionForFormSubmission({submitter:e,formElement:t}){return et(e,t)||"advance"}}var ee;(function(s){s[s.initial=0]="initial",s[s.loading=1]="loading",s[s.interactive=2]="interactive",s[s.complete=3]="complete"})(ee||(ee={}));class Nl{constructor(e){this.stage=ee.initial,this.started=!1,this.interpretReadyState=()=>{const{readyState:t}=this;t=="interactive"?this.pageIsInteractive():t=="complete"&&this.pageIsComplete()},this.pageWillUnload=()=>{this.delegate.pageWillUnload()},this.delegate=e}start(){this.started||(this.stage==ee.initial&&(this.stage=ee.loading),document.addEventListener("readystatechange",this.interpretReadyState,!1),addEventListener("pagehide",this.pageWillUnload,!1),this.started=!0)}stop(){this.started&&(document.removeEventListener("readystatechange",this.interpretReadyState,!1),removeEventListener("pagehide",this.pageWillUnload,!1),this.started=!1)}pageIsInteractive(){this.stage==ee.loading&&(this.stage=ee.interactive,this.delegate.pageBecameInteractive())}pageIsComplete(){this.pageIsInteractive(),this.stage==ee.interactive&&(this.stage=ee.complete,this.delegate.pageLoaded())}get readyState(){return document.readyState}}class jl{constructor(e){this.started=!1,this.onScroll=()=>{this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},this.delegate=e}start(){this.started||(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)}stop(){this.started&&(removeEventListener("scroll",this.onScroll,!1),this.started=!1)}updatePosition(e){this.delegate.scrollPositionChanged(e)}}class Dl{render({fragment:e}){_r.preservingPermanentElements(this,Bl(e),()=>document.documentElement.appendChild(e))}enteringBardo(e,t){t.replaceWith(e.cloneNode(!0))}leavingBardo(){}}function Bl(s){const e=gr(document.documentElement),t={};for(const r of e){const{id:n}=r;for(const i of s.querySelectorAll("turbo-stream")){const o=pr(i.templateElement.content,n);o&&(t[n]=[r,o])}}return t}class Hl{constructor(e){this.sources=new Set,this.started=!1,this.inspectFetchResponse=t=>{const r=Vl(t);r&&ql(r)&&(t.preventDefault(),this.receiveMessageResponse(r))},this.receiveMessageEvent=t=>{this.started&&typeof t.data=="string"&&this.receiveMessageHTML(t.data)},this.delegate=e}start(){this.started||(this.started=!0,addEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}connectStreamSource(e){this.streamSourceIsConnected(e)||(this.sources.add(e),e.addEventListener("message",this.receiveMessageEvent,!1))}disconnectStreamSource(e){this.streamSourceIsConnected(e)&&(this.sources.delete(e),e.removeEventListener("message",this.receiveMessageEvent,!1))}streamSourceIsConnected(e){return this.sources.has(e)}async receiveMessageResponse(e){const t=await e.responseHTML;t&&this.receiveMessageHTML(t)}receiveMessageHTML(e){this.delegate.receivedMessageFromStream(ye.wrap(e))}}function Vl(s){var e;const t=(e=s.detail)===null||e===void 0?void 0:e.fetchResponse;if(t instanceof Dt)return t}function ql(s){var e;return((e=s.contentType)!==null&&e!==void 0?e:"").startsWith(ye.contentType)}class ws extends Vt{static renderElement(e,t){const{documentElement:r,body:n}=document;r.replaceChild(t,n)}async render(){this.replaceHeadAndBody(),this.activateScriptElements()}replaceHeadAndBody(){const{documentElement:e,head:t}=document;e.replaceChild(this.newHead,t),this.renderElement(this.currentElement,this.newElement)}activateScriptElements(){for(const e of this.scriptElements){const t=e.parentNode;if(t){const r=Me(e);t.replaceChild(r,e)}}}get newHead(){return this.newSnapshot.headSnapshot.element}get scriptElements(){return document.documentElement.querySelectorAll("script")}}class kt extends Vt{static renderElement(e,t){document.body&&t instanceof HTMLBodyElement?document.body.replaceWith(t):document.documentElement.appendChild(t)}get shouldRender(){return this.newSnapshot.isVisitable&&this.trackedElementsAreIdentical}get reloadReason(){if(!this.newSnapshot.isVisitable)return{reason:"turbo_visit_control_is_reload"};if(!this.trackedElementsAreIdentical)return{reason:"tracked_element_mismatch"}}async prepareToRender(){await this.mergeHead()}async render(){this.willRender&&await this.replaceBody()}finishRendering(){super.finishRendering(),this.isPreview||this.focusFirstAutofocusableElement()}get currentHeadSnapshot(){return this.currentSnapshot.headSnapshot}get newHeadSnapshot(){return this.newSnapshot.headSnapshot}get newElement(){return this.newSnapshot.element}async mergeHead(){const e=this.mergeProvisionalElements(),t=this.copyNewHeadStylesheetElements();this.copyNewHeadScriptElements(),await e,await t}async replaceBody(){await this.preservingPermanentElements(async()=>{this.activateNewBody(),await this.assignNewBody()})}get trackedElementsAreIdentical(){return this.currentHeadSnapshot.trackedElementSignature==this.newHeadSnapshot.trackedElementSignature}async copyNewHeadStylesheetElements(){const e=[];for(const t of this.newHeadStylesheetElements)e.push(sl(t)),document.head.appendChild(t);await Promise.all(e)}copyNewHeadScriptElements(){for(const e of this.newHeadScriptElements)document.head.appendChild(Me(e))}async mergeProvisionalElements(){const e=[...this.newHeadProvisionalElements];for(const t of this.currentHeadProvisionalElements)this.isCurrentElementInElementList(t,e)||document.head.removeChild(t);for(const t of e)document.head.appendChild(t)}isCurrentElementInElementList(e,t){for(const[r,n]of t.entries()){if(e.tagName=="TITLE"){if(n.tagName!="TITLE")continue;if(e.innerHTML==n.innerHTML)return t.splice(r,1),!0}if(n.isEqualNode(e))return t.splice(r,1),!0}return!1}removeCurrentHeadProvisionalElements(){for(const e of this.currentHeadProvisionalElements)document.head.removeChild(e)}copyNewHeadProvisionalElements(){for(const e of this.newHeadProvisionalElements)document.head.appendChild(e)}activateNewBody(){document.adoptNode(this.newElement),this.activateNewBodyScriptElements()}activateNewBodyScriptElements(){for(const e of this.newBodyScriptElements){const t=Me(e);e.replaceWith(t)}}async assignNewBody(){await this.renderElement(this.currentElement,this.newElement)}get newHeadStylesheetElements(){return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot)}get newHeadScriptElements(){return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot)}get currentHeadProvisionalElements(){return this.currentHeadSnapshot.provisionalElements}get newHeadProvisionalElements(){return this.newHeadSnapshot.provisionalElements}get newBodyScriptElements(){return this.newElement.querySelectorAll("script")}}class $l{constructor(e){this.keys=[],this.snapshots={},this.size=e}has(e){return He(e)in this.snapshots}get(e){if(this.has(e)){const t=this.read(e);return this.touch(e),t}}put(e,t){return this.write(e,t),this.touch(e),t}clear(){this.snapshots={}}read(e){return this.snapshots[He(e)]}write(e,t){this.snapshots[He(e)]=t}touch(e){const t=He(e),r=this.keys.indexOf(t);r>-1&&this.keys.splice(r,1),this.keys.unshift(t),this.trim()}trim(){for(const e of this.keys.splice(this.size))delete this.snapshots[e]}}class Ul extends br{constructor(){super(...arguments),this.snapshotCache=new $l(10),this.lastRenderedLocation=new URL(location.href),this.forceReloaded=!1}renderPage(e,t=!1,r=!0,n){const i=new kt(this.snapshot,e,kt.renderElement,t,r);return i.shouldRender?n==null||n.changeHistory():this.forceReloaded=!0,this.render(i)}renderError(e,t){t==null||t.changeHistory();const r=new ws(this.snapshot,e,ws.renderElement,!1);return this.render(r)}clearSnapshotCache(){this.snapshotCache.clear()}async cacheSnapshot(e=this.snapshot){if(e.isCacheable){this.delegate.viewWillCacheSnapshot();const{lastRenderedLocation:t}=this;await Za();const r=e.clone();return this.snapshotCache.put(t,r),r}}getCachedSnapshotForLocation(e){return this.snapshotCache.get(e)}get snapshot(){return J.fromElement(this.element)}}class zl{constructor(e){this.selector="a[data-turbo-preload]",this.delegate=e}get snapshotCache(){return this.delegate.navigator.view.snapshotCache}start(){if(document.readyState==="loading")return document.addEventListener("DOMContentLoaded",()=>{this.preloadOnLoadLinksForView(document.body)});this.preloadOnLoadLinksForView(document.body)}preloadOnLoadLinksForView(e){for(const t of e.querySelectorAll(this.selector))this.preloadURL(t)}async preloadURL(e){const t=new URL(e.href);if(!this.snapshotCache.has(t))try{const n=await(await fetch(t.toString(),{headers:{"VND.PREFETCH":"true",Accept:"text/html"}})).text(),i=J.fromHTMLString(n);this.snapshotCache.put(t,i)}catch{}}}class Wl{constructor(){this.navigator=new Fl(this),this.history=new xl(this),this.preloader=new zl(this),this.view=new Ul(this,document.documentElement),this.adapter=new Rl(this),this.pageObserver=new Nl(this),this.cacheObserver=new Ml,this.linkClickObserver=new yr(this,window),this.formSubmitObserver=new Ht(this,document),this.scrollObserver=new jl(this),this.streamObserver=new Hl(this),this.formLinkClickObserver=new wr(this,document.documentElement),this.frameRedirector=new Il(this,document.documentElement),this.streamMessageRenderer=new Dl,this.drive=!0,this.enabled=!0,this.progressBarDelay=500,this.started=!1,this.formMode="on"}start(){this.started||(this.pageObserver.start(),this.cacheObserver.start(),this.formLinkClickObserver.start(),this.linkClickObserver.start(),this.formSubmitObserver.start(),this.scrollObserver.start(),this.streamObserver.start(),this.frameRedirector.start(),this.history.start(),this.preloader.start(),this.started=!0,this.enabled=!0)}disable(){this.enabled=!1}stop(){this.started&&(this.pageObserver.stop(),this.cacheObserver.stop(),this.formLinkClickObserver.stop(),this.linkClickObserver.stop(),this.formSubmitObserver.stop(),this.scrollObserver.stop(),this.streamObserver.stop(),this.frameRedirector.stop(),this.history.stop(),this.started=!1)}registerAdapter(e){this.adapter=e}visit(e,t={}){const r=t.frame?document.getElementById(t.frame):null;r instanceof re?(r.src=e.toString(),r.loaded):this.navigator.proposeVisit(j(e),t)}connectStreamSource(e){this.streamObserver.connectStreamSource(e)}disconnectStreamSource(e){this.streamObserver.disconnectStreamSource(e)}renderStreamMessage(e){this.streamMessageRenderer.render(ye.wrap(e))}clearCache(){this.view.clearSnapshotCache()}setProgressBarDelay(e){this.progressBarDelay=e}setFormMode(e){this.formMode=e}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}historyPoppedToLocationWithRestorationIdentifier(e,t){this.enabled?this.navigator.startVisit(e,t,{action:"restore",historyChanged:!0}):this.adapter.pageInvalidated({reason:"turbo_disabled"})}scrollPositionChanged(e){this.history.updateRestorationData({scrollPosition:e})}willSubmitFormLinkToLocation(e,t){return this.elementIsNavigatable(e)&&Te(t,this.snapshot.rootLocation)}submittedFormLinkToLocation(){}willFollowLinkToLocation(e,t,r){return this.elementIsNavigatable(e)&&Te(t,this.snapshot.rootLocation)&&this.applicationAllowsFollowingLinkToLocation(e,t,r)}followedLinkToLocation(e,t){const r=this.getActionForLink(e),n=e.hasAttribute("data-turbo-stream");this.visit(t.href,{action:r,acceptsStreamResponse:n})}allowsVisitingLocationWithAction(e,t){return this.locationWithActionIsSamePage(e,t)||this.applicationAllowsVisitingLocation(e)}visitProposedToLocation(e,t){_s(e),this.adapter.visitProposedToLocation(e,t)}visitStarted(e){e.acceptsStreamResponse||At(document.documentElement),_s(e.location),e.silent||this.notifyApplicationAfterVisitingLocation(e.location,e.action)}visitCompleted(e){Lt(document.documentElement),this.notifyApplicationAfterPageLoad(e.getTimingMetrics())}locationWithActionIsSamePage(e,t){return this.navigator.locationWithActionIsSamePage(e,t)}visitScrolledToSamePageLocation(e,t){this.notifyApplicationAfterVisitingSamePageLocation(e,t)}willSubmitForm(e,t){const r=jt(e,t);return this.submissionIsNavigatable(e,t)&&Te(j(r),this.snapshot.rootLocation)}formSubmitted(e,t){this.navigator.submitForm(e,t)}pageBecameInteractive(){this.view.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()}pageLoaded(){this.history.assumeControlOfScrollRestoration()}pageWillUnload(){this.history.relinquishControlOfScrollRestoration()}receivedMessageFromStream(e){this.renderStreamMessage(e)}viewWillCacheSnapshot(){var e;!((e=this.navigator.currentVisit)===null||e===void 0)&&e.silent||this.notifyApplicationBeforeCachingSnapshot()}allowsImmediateRender({element:e},t){const r=this.notifyApplicationBeforeRender(e,t),{defaultPrevented:n,detail:{render:i}}=r;return this.view.renderer&&i&&(this.view.renderer.renderElement=i),!n}viewRenderedSnapshot(e,t){this.view.lastRenderedLocation=this.history.location,this.notifyApplicationAfterRender()}preloadOnLoadLinksForView(e){this.preloader.preloadOnLoadLinksForView(e)}viewInvalidated(e){this.adapter.pageInvalidated(e)}frameLoaded(e){this.notifyApplicationAfterFrameLoad(e)}frameRendered(e,t){this.notifyApplicationAfterFrameRender(e,t)}applicationAllowsFollowingLinkToLocation(e,t,r){return!this.notifyApplicationAfterClickingLinkToLocation(e,t,r).defaultPrevented}applicationAllowsVisitingLocation(e){return!this.notifyApplicationBeforeVisitingLocation(e).defaultPrevented}notifyApplicationAfterClickingLinkToLocation(e,t,r){return N("turbo:click",{target:e,detail:{url:t.href,originalEvent:r},cancelable:!0})}notifyApplicationBeforeVisitingLocation(e){return N("turbo:before-visit",{detail:{url:e.href},cancelable:!0})}notifyApplicationAfterVisitingLocation(e,t){return N("turbo:visit",{detail:{url:e.href,action:t}})}notifyApplicationBeforeCachingSnapshot(){return N("turbo:before-cache")}notifyApplicationBeforeRender(e,t){return N("turbo:before-render",{detail:Object.assign({newBody:e},t),cancelable:!0})}notifyApplicationAfterRender(){return N("turbo:render")}notifyApplicationAfterPageLoad(e={}){return N("turbo:load",{detail:{url:this.location.href,timing:e}})}notifyApplicationAfterVisitingSamePageLocation(e,t){dispatchEvent(new HashChangeEvent("hashchange",{oldURL:e.toString(),newURL:t.toString()}))}notifyApplicationAfterFrameLoad(e){return N("turbo:frame-load",{target:e})}notifyApplicationAfterFrameRender(e,t){return N("turbo:frame-render",{detail:{fetchResponse:e},target:t,cancelable:!0})}submissionIsNavigatable(e,t){if(this.formMode=="off")return!1;{const r=t?this.elementIsNavigatable(t):!0;return this.formMode=="optin"?r&&e.closest('[data-turbo="true"]')!=null:r&&this.elementIsNavigatable(e)}}elementIsNavigatable(e){const t=Je(e,"[data-turbo]"),r=Je(e,"turbo-frame");return this.drive||r?t?t.getAttribute("data-turbo")!="false":!0:t?t.getAttribute("data-turbo")=="true":!1}getActionForLink(e){return et(e)||"advance"}get snapshot(){return this.view.snapshot}}function _s(s){Object.defineProperties(s,Kl)}const Kl={absoluteURL:{get(){return this.toString()}}};class Gl{constructor(e){this.session=e}clear(){this.session.clearCache()}resetCacheControl(){this.setCacheControl("")}exemptPageFromCache(){this.setCacheControl("no-cache")}exemptPageFromPreview(){this.setCacheControl("no-preview")}setCacheControl(e){nl("turbo-cache-control",e)}}const Er={after(){this.targetElements.forEach(s=>{var e;return(e=s.parentElement)===null||e===void 0?void 0:e.insertBefore(this.templateContent,s.nextSibling)})},append(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(s=>s.append(this.templateContent))},before(){this.targetElements.forEach(s=>{var e;return(e=s.parentElement)===null||e===void 0?void 0:e.insertBefore(this.templateContent,s)})},prepend(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(s=>s.prepend(this.templateContent))},remove(){this.targetElements.forEach(s=>s.remove())},replace(){this.targetElements.forEach(s=>s.replaceWith(this.templateContent))},update(){this.targetElements.forEach(s=>{s.innerHTML="",s.append(this.templateContent)})}},O=new Wl,Jl=new Gl(O),{navigator:Xl}=O;function Sr(){O.start()}function Yl(s){O.registerAdapter(s)}function Tr(s,e){O.visit(s,e)}function qt(s){O.connectStreamSource(s)}function $t(s){O.disconnectStreamSource(s)}function Zl(s){O.renderStreamMessage(s)}function Ql(){console.warn("Please replace `Turbo.clearCache()` with `Turbo.cache.clear()`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),O.clearCache()}function ec(s){O.setProgressBarDelay(s)}function tc(s){Ne.confirmMethod=s}function sc(s){O.setFormMode(s)}var rc=Object.freeze({__proto__:null,navigator:Xl,session:O,cache:Jl,PageRenderer:kt,PageSnapshot:J,FrameRenderer:Ct,start:Sr,registerAdapter:Yl,visit:Tr,connectStreamSource:qt,disconnectStreamSource:$t,renderStreamMessage:Zl,clearCache:Ql,setProgressBarDelay:ec,setConfirmMethod:tc,setFormMode:sc,StreamActions:Er});class nc extends Error{}class ic{constructor(e){this.fetchResponseLoaded=t=>{},this.currentFetchRequest=null,this.resolveVisitPromise=()=>{},this.connected=!1,this.hasBeenLoaded=!1,this.ignoredAttributes=new Set,this.action=null,this.visitCachedSnapshot=({element:t})=>{const r=t.querySelector("#"+this.element.id);r&&this.previousFrameElement&&r.replaceChildren(...this.previousFrameElement.children),delete this.previousFrameElement},this.element=e,this.view=new pl(this,this.element),this.appearanceObserver=new ol(this,this.element),this.formLinkClickObserver=new wr(this,this.element),this.linkInterceptor=new vr(this,this.element),this.restorationIdentifier=Ae(),this.formSubmitObserver=new Ht(this,this.element)}connect(){this.connected||(this.connected=!0,this.loadingStyle==ce.lazy?this.appearanceObserver.start():this.loadSourceURL(),this.formLinkClickObserver.start(),this.linkInterceptor.start(),this.formSubmitObserver.start())}disconnect(){this.connected&&(this.connected=!1,this.appearanceObserver.stop(),this.formLinkClickObserver.stop(),this.linkInterceptor.stop(),this.formSubmitObserver.stop())}disabledChanged(){this.loadingStyle==ce.eager&&this.loadSourceURL()}sourceURLChanged(){this.isIgnoringChangesTo("src")||(this.element.isConnected&&(this.complete=!1),(this.loadingStyle==ce.eager||this.hasBeenLoaded)&&this.loadSourceURL())}sourceURLReloaded(){const{src:e}=this.element;return this.ignoringChangesToAttribute("complete",()=>{this.element.removeAttribute("complete")}),this.element.src=null,this.element.src=e,this.element.loaded}completeChanged(){this.isIgnoringChangesTo("complete")||this.loadSourceURL()}loadingStyleChanged(){this.loadingStyle==ce.lazy?this.appearanceObserver.start():(this.appearanceObserver.stop(),this.loadSourceURL())}async loadSourceURL(){this.enabled&&this.isActive&&!this.complete&&this.sourceURL&&(this.element.loaded=this.visit(j(this.sourceURL)),this.appearanceObserver.stop(),await this.element.loaded,this.hasBeenLoaded=!0)}async loadResponse(e){(e.redirected||e.succeeded&&e.isHTML)&&(this.sourceURL=e.response.url);try{const t=await e.responseHTML;if(t){const r=hr(t);J.fromDocument(r).isVisitable?await this.loadFrameResponse(e,r):await this.handleUnvisitableFrameResponse(e)}}finally{this.fetchResponseLoaded=()=>{}}}elementAppearedInViewport(e){this.proposeVisitIfNavigatedWithAction(e,e),this.loadSourceURL()}willSubmitFormLinkToLocation(e){return this.shouldInterceptNavigation(e)}submittedFormLinkToLocation(e,t,r){const n=this.findFrameElement(e);n&&r.setAttribute("data-turbo-frame",n.id)}shouldInterceptLinkClick(e,t,r){return this.shouldInterceptNavigation(e)}linkClickIntercepted(e,t){this.navigateFrame(e,t)}willSubmitForm(e,t){return e.closest("turbo-frame")==this.element&&this.shouldInterceptNavigation(e,t)}formSubmitted(e,t){this.formSubmission&&this.formSubmission.stop(),this.formSubmission=new Ne(this,e,t);const{fetchRequest:r}=this.formSubmission;this.prepareRequest(r),this.formSubmission.start()}prepareRequest(e){var t;e.headers["Turbo-Frame"]=this.id,!((t=this.currentNavigationElement)===null||t===void 0)&&t.hasAttribute("data-turbo-stream")&&e.acceptResponseType(ye.contentType)}requestStarted(e){At(this.element)}requestPreventedHandlingResponse(e,t){this.resolveVisitPromise()}async requestSucceededWithResponse(e,t){await this.loadResponse(t),this.resolveVisitPromise()}async requestFailedWithResponse(e,t){await this.loadResponse(t),this.resolveVisitPromise()}requestErrored(e,t){console.error(t),this.resolveVisitPromise()}requestFinished(e){Lt(this.element)}formSubmissionStarted({formElement:e}){At(e,this.findFrameElement(e))}formSubmissionSucceededWithResponse(e,t){const r=this.findFrameElement(e.formElement,e.submitter);r.delegate.proposeVisitIfNavigatedWithAction(r,e.formElement,e.submitter),r.delegate.loadResponse(t),e.isSafe||O.clearCache()}formSubmissionFailedWithResponse(e,t){this.element.delegate.loadResponse(t),O.clearCache()}formSubmissionErrored(e,t){console.error(t)}formSubmissionFinished({formElement:e}){Lt(e,this.findFrameElement(e))}allowsImmediateRender({element:e},t){const r=N("turbo:before-frame-render",{target:this.element,detail:Object.assign({newFrame:e},t),cancelable:!0}),{defaultPrevented:n,detail:{render:i}}=r;return this.view.renderer&&i&&(this.view.renderer.renderElement=i),!n}viewRenderedSnapshot(e,t){}preloadOnLoadLinksForView(e){O.preloadOnLoadLinksForView(e)}viewInvalidated(){}willRenderFrame(e,t){this.previousFrameElement=e.cloneNode(!0)}async loadFrameResponse(e,t){const r=await this.extractForeignFrameElement(t.body);if(r){const n=new tt(r),i=new Ct(this,this.view.snapshot,n,Ct.renderElement,!1,!1);this.view.renderPromise&&await this.view.renderPromise,this.changeHistory(),await this.view.render(i),this.complete=!0,O.frameRendered(e,this.element),O.frameLoaded(this.element),this.fetchResponseLoaded(e)}else this.willHandleFrameMissingFromResponse(e)&&this.handleFrameMissingFromResponse(e)}async visit(e){var t;const r=new Bt(this,B.get,e,new URLSearchParams,this.element);return(t=this.currentFetchRequest)===null||t===void 0||t.cancel(),this.currentFetchRequest=r,new Promise(n=>{this.resolveVisitPromise=()=>{this.resolveVisitPromise=()=>{},this.currentFetchRequest=null,n()},r.perform()})}navigateFrame(e,t,r){const n=this.findFrameElement(e,r);n.delegate.proposeVisitIfNavigatedWithAction(n,e,r),this.withCurrentNavigationElement(e,()=>{n.src=t})}proposeVisitIfNavigatedWithAction(e,t,r){if(this.action=et(r,t,e),this.action){const n=J.fromElement(e).clone(),{visitCachedSnapshot:i}=e.delegate;e.delegate.fetchResponseLoaded=o=>{if(e.src){const{statusCode:a,redirected:l}=o,h=e.ownerDocument.documentElement.outerHTML,S={response:{statusCode:a,redirected:l,responseHTML:h},visitCachedSnapshot:i,willRender:!1,updateHistory:!1,restorationIdentifier:this.restorationIdentifier,snapshot:n};this.action&&(S.action=this.action),O.visit(e.src,S)}}}}changeHistory(){if(this.action){const e=fr(this.action);O.history.update(e,j(this.element.src||""),this.restorationIdentifier)}}async handleUnvisitableFrameResponse(e){console.warn(`The response (${e.statusCode}) from <turbo-frame id="${this.element.id}"> is performing a full page visit due to turbo-visit-control.`),await this.visitResponse(e.response)}willHandleFrameMissingFromResponse(e){this.element.setAttribute("complete","");const t=e.response,r=async(i,o={})=>{i instanceof Response?this.visitResponse(i):O.visit(i,o)};return!N("turbo:frame-missing",{target:this.element,detail:{response:t,visit:r},cancelable:!0}).defaultPrevented}handleFrameMissingFromResponse(e){this.view.missing(),this.throwFrameMissingError(e)}throwFrameMissingError(e){const t=`The response (${e.statusCode}) did not contain the expected <turbo-frame id="${this.element.id}"> and will be ignored. To perform a full page visit instead, set turbo-visit-control to reload.`;throw new nc(t)}async visitResponse(e){const t=new Dt(e),r=await t.responseHTML,{location:n,redirected:i,statusCode:o}=t;return O.visit(n,{response:{redirected:i,statusCode:o,responseHTML:r}})}findFrameElement(e,t){var r;const n=Ke("data-turbo-frame",t,e)||this.element.getAttribute("target");return(r=Es(n))!==null&&r!==void 0?r:this.element}async extractForeignFrameElement(e){let t;const r=CSS.escape(this.id);try{if(t=Ss(e.querySelector(`turbo-frame#${r}`),this.sourceURL),t)return t;if(t=Ss(e.querySelector(`turbo-frame[src][recurse~=${r}]`),this.sourceURL),t)return await t.loaded,await this.extractForeignFrameElement(t)}catch(n){return console.error(n),new re}return null}formActionIsVisitable(e,t){const r=jt(e,t);return Te(j(r),this.rootLocation)}shouldInterceptNavigation(e,t){const r=Ke("data-turbo-frame",t,e)||this.element.getAttribute("target");if(e instanceof HTMLFormElement&&!this.formActionIsVisitable(e,t)||!this.enabled||r=="_top")return!1;if(r){const n=Es(r);if(n)return!n.disabled}return!(!O.elementIsNavigatable(e)||t&&!O.elementIsNavigatable(t))}get id(){return this.element.id}get enabled(){return!this.element.disabled}get sourceURL(){if(this.element.src)return this.element.src}set sourceURL(e){this.ignoringChangesToAttribute("src",()=>{this.element.src=e??null})}get loadingStyle(){return this.element.loading}get isLoading(){return this.formSubmission!==void 0||this.resolveVisitPromise()!==void 0}get complete(){return this.element.hasAttribute("complete")}set complete(e){this.ignoringChangesToAttribute("complete",()=>{e?this.element.setAttribute("complete",""):this.element.removeAttribute("complete")})}get isActive(){return this.element.isActive&&this.connected}get rootLocation(){var e;const t=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),r=(e=t==null?void 0:t.content)!==null&&e!==void 0?e:"/";return j(r)}isIgnoringChangesTo(e){return this.ignoredAttributes.has(e)}ignoringChangesToAttribute(e,t){this.ignoredAttributes.add(e),t(),this.ignoredAttributes.delete(e)}withCurrentNavigationElement(e,t){this.currentNavigationElement=e,t(),delete this.currentNavigationElement}}function Es(s){if(s!=null){const e=document.getElementById(s);if(e instanceof re)return e}}function Ss(s,e){if(s){const t=s.getAttribute("src");if(t!=null&&e!=null&&za(t,e))throw new Error(`Matching <turbo-frame id="${s.id}"> element has a source URL which references itself`);if(s.ownerDocument!==document&&(s=document.importNode(s,!0)),s instanceof re)return s.connectedCallback(),s.disconnectedCallback(),s}}class Ut extends HTMLElement{static async renderElement(e){await e.performAction()}async connectedCallback(){try{await this.render()}catch(e){console.error(e)}finally{this.disconnect()}}async render(){var e;return(e=this.renderPromise)!==null&&e!==void 0?e:this.renderPromise=(async()=>{const t=this.beforeRenderEvent;this.dispatchEvent(t)&&(await ze(),await t.detail.render(this))})()}disconnect(){try{this.remove()}catch{}}removeDuplicateTargetChildren(){this.duplicateChildren.forEach(e=>e.remove())}get duplicateChildren(){var e;const t=this.targetElements.flatMap(n=>[...n.children]).filter(n=>!!n.id),r=[...((e=this.templateContent)===null||e===void 0?void 0:e.children)||[]].filter(n=>!!n.id).map(n=>n.id);return t.filter(n=>r.includes(n.id))}get performAction(){if(this.action){const e=Er[this.action];if(e)return e;this.raise("unknown action")}this.raise("action attribute is missing")}get targetElements(){if(this.target)return this.targetElementsById;if(this.targets)return this.targetElementsByQuery;this.raise("target or targets attribute is missing")}get templateContent(){return this.templateElement.content.cloneNode(!0)}get templateElement(){if(this.firstElementChild===null){const e=this.ownerDocument.createElement("template");return this.appendChild(e),e}else if(this.firstElementChild instanceof HTMLTemplateElement)return this.firstElementChild;this.raise("first child element must be a <template> element")}get action(){return this.getAttribute("action")}get target(){return this.getAttribute("target")}get targets(){return this.getAttribute("targets")}raise(e){throw new Error(`${this.description}: ${e}`)}get description(){var e,t;return(t=((e=this.outerHTML.match(/<[^>]+>/))!==null&&e!==void 0?e:[])[0])!==null&&t!==void 0?t:"<turbo-stream>"}get beforeRenderEvent(){return new CustomEvent("turbo:before-stream-render",{bubbles:!0,cancelable:!0,detail:{newStream:this,render:Ut.renderElement}})}get targetElementsById(){var e;const t=(e=this.ownerDocument)===null||e===void 0?void 0:e.getElementById(this.target);return t!==null?[t]:[]}get targetElementsByQuery(){var e;const t=(e=this.ownerDocument)===null||e===void 0?void 0:e.querySelectorAll(this.targets);return t.length!==0?Array.prototype.slice.call(t):[]}}class oc extends HTMLElement{constructor(){super(...arguments),this.streamSource=null}connectedCallback(){this.streamSource=this.src.match(/^ws{1,2}:/)?new WebSocket(this.src):new EventSource(this.src),qt(this.streamSource)}disconnectedCallback(){this.streamSource&&$t(this.streamSource)}get src(){return this.getAttribute("src")||""}}re.delegateConstructor=ic;customElements.get("turbo-frame")===void 0&&customElements.define("turbo-frame",re);customElements.get("turbo-stream")===void 0&&customElements.define("turbo-stream",Ut);customElements.get("turbo-stream-source")===void 0&&customElements.define("turbo-stream-source",oc);(()=>{let s=document.currentScript;if(s&&!s.hasAttribute("data-turbo-suppress-warning"))for(s=s.parentElement;s;){if(s==document.body)return console.warn(ur`
        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!

        Load your applications JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.

        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements

        
        Suppress this warning by adding a "data-turbo-suppress-warning" attribute to: %s
      `,s.outerHTML);s=s.parentElement}})();window.Turbo=rc;Sr();let ie=null;const Ts=new Da,Oe={connect(s){if(hs(ie)){s();return}xe(()=>import("./index-DycvC1GJ.js"),__vite__mapDeps([0,1])).then(e=>e.connectToParent).then(e=>{console.log("connected"),ie=e({methods:{turboVisit(t){Tr(t,{action:"replace"})},activateSiteEditable:t=>{Ts.emit("activatedSiteEditable",t)}}}),hs(s)&&s()})},events:Ts,disconnect(){console.log("disconnect"),ie==null||ie.destroy()},promise(){return ie==null?void 0:ie.promise}};class ac extends b{constructor(){super(...arguments);u(this,"_updateParentPathnameAndHash",()=>{Oe.promise().then(t=>{let r=location.pathname;r=r.replace(/^\/preview\/[^\/]+/,""),t.setPathname(r+location.hash)})})}initialize(){this._isActive=!1}connect(){Oe.connect(()=>{this._setupSiteEditables(),this._setupTurboLoad(),this._updateParentPathnameAndHash(),Oe.promise().then(t=>{t.isActiveSiteEditable().then(r=>{this._isActive=r,this._updateActiveStyle()})})}),Oe.events.on("activatedSiteEditable",t=>{this._isActive=t,this._updateActiveStyle()})}disconnect(){this._teardownSiteEditables(),this._teardownTurboLoad()}_updateActiveStyle(){this._isActive?this.element.classList.add("site-editable--active"):this.element.classList.remove("site-editable--active")}_setupSiteEditables(){this.element.querySelectorAll("[data-site-editable-id]").forEach(r=>{this._setupOverlayForEditable(r)})}_teardownSiteEditables(){this.element.querySelectorAll("[data-site-editable-id]").forEach(r=>{this._teardownOverlayForEditable(r)})}_setupOverlayForEditable(t){let r=t.querySelector(".site-editable-overlay");r||(r=document.createElement("div"),r.classList.add("site-editable-overlay"),t.dataset.siteEditableLabel&&(r.innerHTML=t.dataset.siteEditableLabel),t.appendChild(r),r.addEventListener("click",()=>{const n=t.dataset.siteEditableId;Oe.promise().then(i=>{i.edit(n).then(()=>{})})}))}_teardownOverlayForEditable(t){let r=t.querySelector(".site-editable-overlay");r&&r.remove()}_setupTurboLoad(){document.addEventListener("turbo:load",this._updateParentPathnameAndHash),window.addEventListener("hashchange",this._updateParentPathnameAndHash)}_teardownTurboLoad(){document.removeEventListener("turbo:load",this._updateParentPathnameAndHash),window.removeEventListener("hashchange",this._updateParentPathnameAndHash)}}const au=Object.freeze(Object.defineProperty({__proto__:null,default:ac},Symbol.toStringTag,{value:"Module"}));function lc(){const s=document.querySelectorAll("meta[name=turbolinks-referrer]");return s.length==0?null:s[0].getAttribute("content")}class cc extends b{constructor(){super(...arguments);u(this,"_handleClick",t=>{const r=this.element.getAttribute("href"),n=window.location.origin+r,i=lc()||document.referrer;n==i&&(t.preventDefault(),t.stopPropagation(),window.history.back())})}connect(){this.element.addEventListener("click",this._handleClick)}disconnect(){this.element.removeEventListener("click",this._handleClick)}}const lu=Object.freeze(Object.defineProperty({__proto__:null,default:cc},Symbol.toStringTag,{value:"Module"}));class Ar extends b{constructor(){super(...arguments);u(this,"_handleScroll",Nt(t=>{clearTimeout(this.scrollEndTimeoutId),this.scrollEndTimeoutId=setTimeout(this._handleScrollEnd,200),this._updateSticky()},100,{leading:!0,trailing:!0}));u(this,"_handleScrollEnd",t=>{let r=window.scrollY;const n=()=>{window.scrollY!==r?(r=window.scrollY,window.requestAnimationFrame(n)):this._updateSticky()};window.requestAnimationFrame(n)})}connect(){this._updateSticky(),window.addEventListener("scroll",this._handleScroll)}disconnect(){window.removeEventListener("scroll",this._handleScroll)}_updateSticky(){window.scrollY>this.thresholdValue?this.element.classList.add(this.classNameValue):this.element.classList.remove(this.classNameValue)}}u(Ar,"values",{className:String,threshold:{type:Number,default:0}});const cu=Object.freeze(Object.defineProperty({__proto__:null,default:Ar},Symbol.toStringTag,{value:"Module"})),dc={async get(s){const e=`https://www.tiktok.com/oembed?url=${s}`;return await fetch(e,{method:"GET"})}};class hc extends b{connect(){const{block:e,placeholderId:t}=this.element.dataset;if(!e||!t)return;const{url:r}=JSON.parse(e);r&&(this._observer=fc(this.element,(n,i)=>{if(this._iframeAdded)return;const o=n.reduce((a,l)=>{const h=Array.from(l.addedNodes).find(f=>f.nodeName==="IFRAME");return h&&(a=h),a},void 0);o&&(this._iframeAdded=o,o.addEventListener("load",()=>{this._setupPlaceholder(),this.element.style.display="flex"}))}),dc.get(r).then(n=>n.json()).then(n=>{const i=mc(n);this._setupEmbed(i)}))}_setupPlaceholder(){const{placeholderId:e}=this.element.dataset,t=document.getElementById(e);t&&(t.style.display="none")}_setupEmbed(e){const t=document.createElement("script");t.src=e.scriptSrc,document.querySelector("head").appendChild(t),this.element.innerHTML=e.html}disconnect(){this._observer&&this._observer.disconnect()}}const uc={attributes:!0,characterData:!0,childList:!0,subtree:!0};function fc(s,e,t=uc){const r=new MutationObserver(e);return r.observe(s,t),r}function mc(s){const{html:e}=s,t=document.createElement("div");t.innerHTML=e;const r=t.getElementsByTagName("script")[0];return r?{scriptSrc:r.src,html:e}:null}const du=Object.freeze(Object.defineProperty({__proto__:null,default:hc},Symbol.toStringTag,{value:"Module"}));class Ot extends b{initialize(){console.debug("Stimulus.js - toggle")}toggle(){this.hasElementTarget?this.elementTarget.classList.toggle("is-toggle-on"):this.element.classList.toggle("is-toggle-on")}on(){this.hasElementTarget?this.elementTarget.classList.add("is-toggle-on"):this.element.classList.add("is-toggle-on")}off(){this.hasElementTarget?this.elementTarget.classList.remove("is-toggle-on"):this.element.classList.remove("is-toggle-on")}}u(Ot,"targets",["element"]),u(Ot,"values",{onClass:{type:String,default:"is-toggle-on"}});const hu=Object.freeze(Object.defineProperty({__proto__:null,default:Ot},Symbol.toStringTag,{value:"Module"}));class pc extends b{initialize(){console.debug("Initialized Stimulus controller: turbo")}getTurboStream(e){e.preventDefault(),Gs(e.target.href,{contentType:"text/vnd.turbo-stream.html",responseKind:"turbo-stream"})}postTurboStream(e){e.preventDefault(),aa(e.target.href,{contentType:"text/vnd.turbo-stream.html",responseKind:"turbo-stream"})}}const uu=Object.freeze(Object.defineProperty({__proto__:null,default:pc},Symbol.toStringTag,{value:"Module"})),gc=/^\/\w{1,15}\/status\/(\d+)$/,bc=/^\/(\w{1,15})$/,mt={type:null,props:null};function vc(s){let e;try{e=new URL(s)}catch{return mt}const t=e.hostname,r=e.pathname;if(t!=="twitter.com")return mt;let n;return(n=r.match(gc))?{type:"tweet",props:{tweetId:n[1]}}:(n=r.match(bc))?{type:"timeline",props:{sourceType:"profile",screenName:n[1]}}:mt}let Ve=null;function yc(){return window.twttr?(console.log("Twitter Widgets is already loaded."),Promise.resolve()):Ve||(Ve=ge(["https://platform.twitter.com/widgets.js"],"twitter-widgets",{returnPromise:!0}).then(()=>{console.log("Loaded Twitter Widgets.")}),Ve)}class wc extends b{connect(){const{block:e,placeholderId:t}=this.element.dataset;if(!e||!t)return;const r=JSON.parse(e);r!=null&&r.url&&yc().then(()=>{this._onLoadTwitterWidgets(r)})}_onLoadTwitterWidgets(e){const{url:t,hide_thread:r}=e,{type:n,props:i}=vc(t);switch(n){case"tweet":{const o={conversation:r?"none":null};window.twttr.widgets.createTweet(i.tweetId,this.element,o).then(a=>{this._hidePlaceholder(),console.log(`Rendered tweet at ${t}`)})}case"timeline":window.twttr.widgets.createTimeline(i,this.element).then(o=>{this._hidePlaceholder(),console.log(`Rendered timeline at ${t}`)})}}_hidePlaceholder(){const{placeholderId:e}=this.element.dataset,t=document.getElementById(e);t&&(t.style.display="none")}}const fu=Object.freeze(Object.defineProperty({__proto__:null,default:wc},Symbol.toStringTag,{value:"Module"})),_c=/^\/(\d+)$/,Ec=/^\/embed\/(\d+)$/;function Sc(s){const e=s.hostname,t=s.pathname;if(e!=="vimeo.com")return null;let r;return(r=t.match(_c))?r[1]:null}function Tc(s){const e=s.hostname,t=s.pathname;if(e!=="player.vimeo.com")return null;let r;return(r=t.match(Ec))?r[1]:null}function Ac(s){let e;try{e=new URL(s)}catch{return null}if(!["https:","http:"].includes(e.protocol))return null;let t=null;return(t=Sc(e))||(t=Tc(e))?t:null}const Lc=/^[A-Za-z0-9_-]{11}$/,Cc=/^\/([A-Za-z0-9_-]{11})$/,kc=/^\/watch\/([A-Za-z0-9_-]{11})$/,Oc=/^\/v\/([A-Za-z0-9_-]{11})$/,Pc=/^\/embed\/([A-Za-z0-9_-]{11})$/;function Rc(s){const e=s.hostname,t=s.pathname,r=s.searchParams;if(e!=="www.youtube.com"||!["/watch","/embed","/embed/watch","/attribution_link"].includes(t))return null;const n=r.get("v");return n&&Lc.test(n)?n:null}function Mc(s){const e=s.hostname,t=s.pathname;if(e!=="www.youtube.com")return null;let r;return(r=t.match(kc))||(r=t.match(Pc))||(r=t.match(Oc))?r[1]:null}function Ic(s){const e=s.hostname,t=s.pathname;if(e!=="youtu.be")return null;const r=t.match(Cc);return r?r[1]:null}function xc(s){let e;try{e=new URL(s)}catch{return null}if(!["https:","http:"].includes(e.protocol))return null;let t=null;return(t=Rc(e))||(t=Mc(e))||(t=Ic(e))?t:null}class Fc extends b{connect(){const{block:e}=this.element.dataset;if(!e)return;const{url:t}=JSON.parse(e);if(!t)return;let r,n;if(r=xc(t))n=`https://www.youtube.com/embed/${r}`;else if(r=Ac(t))n=`https://player.vimeo.com/video/${r}`;else return null;W(this.element,{overflow:"hidden",position:"relative",paddingTop:"56%"});const i=document.createElement("iframe");i.src=n,i.setAttribute("allowFullScreen",!0),W(i,{position:"absolute",top:0,left:0,width:"100%",height:"100%",border:0}),this.element.appendChild(i)}}const mu=Object.freeze(Object.defineProperty({__proto__:null,default:Fc},Symbol.toStringTag,{value:"Module"}));let Lr;async function Nc(){return Lr||As(jc().then(As))}function As(s){return Lr=s}async function jc(){const{createConsumer:s}=await xe(async()=>{const{createConsumer:e}=await import("./index-o9rNW36s.js");return{createConsumer:e}},[]);return s()}async function Dc(s,e){const{subscriptions:t}=await Nc();return t.create(s,e)}function Pt(s){return!s||typeof s!="object"||s instanceof Date||s instanceof RegExp?s:Array.isArray(s)?s.map(Pt):Object.keys(s).reduce(function(e,t){var r=t[0].toLowerCase()+t.slice(1).replace(/([A-Z]+)/g,function(n,i){return"_"+i.toLowerCase()});return e[r]=Pt(s[t]),e},{})}class Bc extends HTMLElement{async connectedCallback(){qt(this),this.subscription=await Dc(this.channel,{received:this.dispatchMessageEvent.bind(this),connected:this.subscriptionConnected.bind(this),disconnected:this.subscriptionDisconnected.bind(this)})}disconnectedCallback(){$t(this),this.subscription&&this.subscription.unsubscribe()}dispatchMessageEvent(e){const t=new MessageEvent("message",{data:e});return this.dispatchEvent(t)}subscriptionConnected(){this.setAttribute("connected","")}subscriptionDisconnected(){this.removeAttribute("connected")}get channel(){const e=this.getAttribute("channel"),t=this.getAttribute("signed-stream-name");return{channel:e,signed_stream_name:t,...Pt({...this.dataset})}}}customElements.get("turbo-cable-stream-source")===void 0&&customElements.define("turbo-cable-stream-source",Bc);function Hc(s){if(s.target instanceof HTMLFormElement){const{target:e,detail:{fetchOptions:t}}=s;e.addEventListener("turbo:submit-start",({detail:{formSubmission:{submitter:r}}})=>{const n=$c(t.body)?t.body:new URLSearchParams,i=Vc(r,n,e);/get/i.test(i)||(/post/i.test(i)?n.delete("_method"):n.set("_method",i),t.method="post")},{once:!0})}}function Vc(s,e,t){const r=qc(s),n=e.get("_method"),i=t.getAttribute("method")||"get";return typeof r=="string"?r:typeof n=="string"?n:i}function qc(s){return(s instanceof HTMLButtonElement||s instanceof HTMLInputElement)&&s.hasAttribute("formmethod")?s.formMethod:null}function $c(s){return s instanceof FormData||s instanceof URLSearchParams}addEventListener("turbo:before-fetch-request",Hc);var Ls=11;function Uc(s,e){var t=e.attributes,r,n,i,o,a;if(!(e.nodeType===Ls||s.nodeType===Ls)){for(var l=t.length-1;l>=0;l--)r=t[l],n=r.name,i=r.namespaceURI,o=r.value,i?(n=r.localName||n,a=s.getAttributeNS(i,n),a!==o&&(r.prefix==="xmlns"&&(n=r.name),s.setAttributeNS(i,n,o))):(a=s.getAttribute(n),a!==o&&s.setAttribute(n,o));for(var h=s.attributes,f=h.length-1;f>=0;f--)r=h[f],n=r.name,i=r.namespaceURI,i?(n=r.localName||n,e.hasAttributeNS(i,n)||s.removeAttributeNS(i,n)):e.hasAttribute(n)||s.removeAttribute(n)}}var qe,zc="http://www.w3.org/1999/xhtml",H=typeof document>"u"?void 0:document,Wc=!!H&&"content"in H.createElement("template"),Kc=!!H&&H.createRange&&"createContextualFragment"in H.createRange();function Gc(s){var e=H.createElement("template");return e.innerHTML=s,e.content.childNodes[0]}function Jc(s){qe||(qe=H.createRange(),qe.selectNode(H.body));var e=qe.createContextualFragment(s);return e.childNodes[0]}function Xc(s){var e=H.createElement("body");return e.innerHTML=s,e.childNodes[0]}function Yc(s){return s=s.trim(),Wc?Gc(s):Kc?Jc(s):Xc(s)}function $e(s,e){var t=s.nodeName,r=e.nodeName,n,i;return t===r?!0:(n=t.charCodeAt(0),i=r.charCodeAt(0),n<=90&&i>=97?t===r.toUpperCase():i<=90&&n>=97?r===t.toUpperCase():!1)}function Zc(s,e){return!e||e===zc?H.createElement(s):H.createElementNS(e,s)}function Qc(s,e){for(var t=s.firstChild;t;){var r=t.nextSibling;e.appendChild(t),t=r}return e}function pt(s,e,t){s[t]!==e[t]&&(s[t]=e[t],s[t]?s.setAttribute(t,""):s.removeAttribute(t))}var Cs={OPTION:function(s,e){var t=s.parentNode;if(t){var r=t.nodeName.toUpperCase();r==="OPTGROUP"&&(t=t.parentNode,r=t&&t.nodeName.toUpperCase()),r==="SELECT"&&!t.hasAttribute("multiple")&&(s.hasAttribute("selected")&&!e.selected&&(s.setAttribute("selected","selected"),s.removeAttribute("selected")),t.selectedIndex=-1)}pt(s,e,"selected")},INPUT:function(s,e){pt(s,e,"checked"),pt(s,e,"disabled"),s.value!==e.value&&(s.value=e.value),e.hasAttribute("value")||s.removeAttribute("value")},TEXTAREA:function(s,e){var t=e.value;s.value!==t&&(s.value=t);var r=s.firstChild;if(r){var n=r.nodeValue;if(n==t||!t&&n==s.placeholder)return;r.nodeValue=t}},SELECT:function(s,e){if(!e.hasAttribute("multiple")){for(var t=-1,r=0,n=s.firstChild,i,o;n;)if(o=n.nodeName&&n.nodeName.toUpperCase(),o==="OPTGROUP")i=n,n=i.firstChild;else{if(o==="OPTION"){if(n.hasAttribute("selected")){t=r;break}r++}n=n.nextSibling,!n&&i&&(n=i.nextSibling,i=null)}s.selectedIndex=t}}},Pe=1,ks=11,Os=3,Ps=8;function oe(){}function ed(s){if(s)return s.getAttribute&&s.getAttribute("id")||s.id}function td(s){return function(t,r,n){if(n||(n={}),typeof r=="string")if(t.nodeName==="#document"||t.nodeName==="HTML"||t.nodeName==="BODY"){var i=r;r=H.createElement("html"),r.innerHTML=i}else r=Yc(r);else r.nodeType===ks&&(r=r.firstElementChild);var o=n.getNodeKey||ed,a=n.onBeforeNodeAdded||oe,l=n.onNodeAdded||oe,h=n.onBeforeElUpdated||oe,f=n.onElUpdated||oe,S=n.onBeforeNodeDiscarded||oe,c=n.onNodeDiscarded||oe,_=n.onBeforeElChildrenUpdated||oe,L=n.skipFromChildren||oe,E=n.addChild||function(g,p){return g.appendChild(p)},R=n.childrenOnly===!0,P=Object.create(null),M=[];function I(g){M.push(g)}function x(g,p){if(g.nodeType===Pe)for(var k=g.firstChild;k;){var y=void 0;p&&(y=o(k))?I(y):(c(k),k.firstChild&&x(k,p)),k=k.nextSibling}}function d(g,p,k){S(g)!==!1&&(p&&p.removeChild(g),c(g),x(g,k))}function m(g){if(g.nodeType===Pe||g.nodeType===ks)for(var p=g.firstChild;p;){var k=o(p);k&&(P[k]=p),m(p),p=p.nextSibling}}m(t);function v(g){l(g);for(var p=g.firstChild;p;){var k=p.nextSibling,y=o(p);if(y){var A=P[y];A&&$e(p,A)?(p.parentNode.replaceChild(A,p),w(A,p)):v(p)}else v(p);p=k}}function X(g,p,k){for(;p;){var y=p.nextSibling;(k=o(p))?I(k):d(p,g,!0),p=y}}function w(g,p,k){var y=o(p);y&&delete P[y],!(!k&&(h(g,p)===!1||(s(g,p),f(g),_(g,p)===!1)))&&(g.nodeName!=="TEXTAREA"?K(g,p):Cs.TEXTAREA(g,p))}function K(g,p){var k=L(g),y=p.firstChild,A=g.firstChild,ne,q,z,pe,$;e:for(;y;){for(pe=y.nextSibling,ne=o(y);!k&&A;){if(z=A.nextSibling,y.isSameNode&&y.isSameNode(A)){y=pe,A=z;continue e}q=o(A);var _e=A.nodeType,Q=void 0;if(_e===y.nodeType&&(_e===Pe?(ne?ne!==q&&(($=P[ne])?z===$?Q=!1:(g.insertBefore($,A),q?I(q):d(A,g,!0),A=$):Q=!1):q&&(Q=!1),Q=Q!==!1&&$e(A,y),Q&&w(A,y)):(_e===Os||_e==Ps)&&(Q=!0,A.nodeValue!==y.nodeValue&&(A.nodeValue=y.nodeValue))),Q){y=pe,A=z;continue e}q?I(q):d(A,g,!0),A=z}if(ne&&($=P[ne])&&$e($,y))E(g,$),w($,y);else{var lt=a(y);lt!==!1&&(lt&&(y=lt),y.actualize&&(y=y.actualize(g.ownerDocument||H)),E(g,y),v(y))}y=pe,A=z}X(g,A,q);var is=Cs[g.nodeName];is&&is(g,p)}var C=t,D=C.nodeType,F=r.nodeType;if(!R){if(D===Pe)F===Pe?$e(t,r)||(c(t),C=Qc(t,Zc(r.nodeName,r.namespaceURI))):C=r;else if(D===Os||D===Ps){if(F===D)return C.nodeValue!==r.nodeValue&&(C.nodeValue=r.nodeValue),C;C=r}}if(C===r)c(t);else{if(r.isSameNode&&r.isSameNode(C))return;if(w(C,r,R),M)for(var me=0,U=M.length;me<U;me++){var Z=P[M[me]];Z&&d(Z,Z.parentNode,!1)}}return!R&&C!==t&&t.parentNode&&(C.actualize&&(C=C.actualize(t.ownerDocument||H)),t.parentNode.replaceChild(C,t)),C}}var sd=td(Uc);function rd(){const s={childrenOnly:this.hasAttribute("children-only")};this.targetElements.forEach(e=>{sd(e,s.childrenOnly?this.templateContent:this.templateElement.innerHTML,s)})}const nd=s=>{s.morph=rd};function zt(s){return s.replace(/(?:[_-])([a-z0-9])/g,(e,t)=>t.toUpperCase())}function id(s){return s.charAt(0).toUpperCase()+s.slice(1)}function od(s){return s.replace(/([A-Z])/g,(e,t)=>`-${t.toLowerCase()}`)}function st(s){return s?s.match(/[^\s]+/g)||[]:[]}function Wt(s){try{return JSON.parse(s)}catch{return s}}var ad=Object.freeze({__proto__:null,camelize:zt,capitalize:id,dasherize:od,tokenize:st,typecast:Wt});function Cr(){const s=st(this.getAttribute("classes"));s.length>0?this.targetElements.forEach(e=>e.classList.add(...s)):console.warn('[TurboPower] no "classes" provided for Turbo Streams operation "add_css_class"')}function kr(){const s=this.getAttribute("attribute");s?this.targetElements.forEach(e=>e.removeAttribute(s)):console.warn('[TurboPower] no "attribute" provided for Turbo Streams operation "remove_attribute"')}function Or(){const s=st(this.getAttribute("classes"));s.length>0?this.targetElements.forEach(e=>e.classList.remove(...s)):console.warn('[TurboPower] no "classes" provided for Turbo Streams operation "remove_css_class"')}function Pr(){const s=this.getAttribute("attribute"),e=this.getAttribute("value")||"";s?this.targetElements.forEach(t=>t.setAttribute(s,e)):console.warn('[TurboPower] no "attribute" provided for Turbo Streams operation "set_attribute"')}function Rr(){const s=this.getAttribute("attribute"),e=this.getAttribute("force");if(!s){console.warn('[TurboPower] no "attribute" provided for Turbo Streams operation "toggle_attribute"');return}const t=e===null?void 0:e.toLowerCase()==="true";this.targetElements.forEach(r=>{r.toggleAttribute(s,t)})}function Mr(){const s=this.getAttribute("attribute"),e=this.getAttribute("value")||"";s?this.targetElements.forEach(t=>t.dataset[zt(s)]=e):console.warn('[TurboPower] no "attribute" provided for Turbo Streams operation "set_dataset_attribute"')}function Ir(){const s=this.getAttribute("name"),e=Wt(this.getAttribute("value")||"");s?this.targetElements.forEach(t=>t[s]=e):console.error('[TurboPower] no "name" provided for Turbo Streams operation "set_property"')}function xr(){const s=this.getAttribute("name"),e=this.getAttribute("value")||"";s?this.targetElements.forEach(t=>t.style[s]=e):console.error('[TurboPower] no "name" provided for Turbo Streams operation "set_style"')}function Fr(){const s=this.getAttribute("styles")||"";this.targetElements.forEach(e=>e.setAttribute("style",s))}function Nr(){const s=this.getAttribute("value")||"";this.targetElements.forEach(e=>e.value=s)}function jr(){const s=st(this.getAttribute("classes"));s.length>0?this.targetElements.forEach(e=>{s.forEach(t=>e.classList.toggle(t))}):console.warn('[TurboPower] no "classes" provided for Turbo Streams operation "toggle_css_class"')}function Dr(){const s=this.getAttribute("from")||"",e=this.getAttribute("to")||"";s&&e?this.targetElements.forEach(t=>{t.classList.replace(s,e)||console.warn(`[TurboPower] The "${s}" CSS class provided in the "from" attribute for the "replace_css_class" action was not found on the target element. No replacements made.`,t)}):console.warn('[TurboPower] no "from" or "to" class provided for Turbo Streams operation "replace_css_class"')}function Br(s){s.add_css_class=Cr,s.remove_css_class=Or,s.remove_attribute=kr,s.set_attribute=Pr,s.toggle_attribute=Rr,s.set_dataset_attribute=Mr,s.set_property=Ir,s.set_style=xr,s.set_styles=Fr,s.set_value=Nr,s.toggle_css_class=jr,s.replace_css_class=Dr}function Hr(){window.location.reload()}function Vr(){const s=this.getAttribute("align-to-top"),e=this.getAttribute("block"),t=this.getAttribute("inline"),r=this.getAttribute("behavior");if(s)this.targetElements.forEach(n=>n.scrollIntoView(s==="true"));else if(e||t||r){const n={};e&&(n.block=e),t&&(n.inline=t),r&&(n.behavior=r),this.targetElements.forEach(i=>i.scrollIntoView(n))}else this.targetElements.forEach(n=>n.scrollIntoView())}function qr(){this.targetElements.forEach(s=>s.focus())}function $r(){const s=this.getAttribute("title")||"";let e=document.head.querySelector("title");e||(e=document.createElement("title"),document.head.appendChild(e)),e.textContent=s}function Ur(s){s.reload=Hr,s.scroll_into_view=Vr,s.set_focus=qr,s.set_title=$r}function zr(){const s=this.getAttribute("message"),e=this.getAttribute("level")||"log";console[e](s)}function Wr(){const s=JSON.parse(this.getAttribute("data")||"[]"),e=JSON.parse(this.getAttribute("columns")||"[]");console.table(s,e)}function Kr(s){s.console_log=zr,s.console_table=Wr}function Gr(){console.warn("[TurboPower] The `invoke` Turbo Stream Action was removed from TurboPower. If you'd like to continue using this action please use the successor library instead. Read more here: https://github.com/hopsoft/turbo_boost-streams")}function Jr(s){s.invoke||(s.invoke=Gr)}class ld{constructor(e){this.ATTRIBUTE_TO_COOKIE_KEY_MAPPING=[["domain","Domain",!1],["path","Path",!1],["expires","Expires",!1],["max-age","Max-Age",!1],["http-only","HttpOnly",!0],["secure","Secure",!0],["same-site","SameSite",!1]],this.streamElement=e}build(){let e=`${this.streamElement.getAttribute("name")}=${this.streamElement.getAttribute("value")}`;return this.ATTRIBUTE_TO_COOKIE_KEY_MAPPING.forEach(([t,r,n])=>{const i=this.streamElement.getAttribute(t);if(i!==null){const o=n?r:`${r}=${i}`;e=`${e}; ${o}`}}),e}}function Xr(){const s=this.getAttribute("cookie")||"";document.cookie=s}function Yr(){const s=new ld(this);document.cookie=s.build()}function Zr(s){s.set_cookie=Xr,s.set_cookie_item=Yr}function Qr(){const s=this.getAttribute("parent");if(s){const e=document.querySelector(s);e?this.targetElements.forEach(t=>e.appendChild(t)):console.error(`[TurboPower] couldn't find parent element using selector "${s}" for Turbo Streams operation "graft"`)}else console.error('[TurboPower] no "parent" selector provided for Turbo Streams operation "graft"')}function en(){const s=this.templateContent.textContent||"";this.targetElements.forEach(e=>e.innerHTML=s)}function tn(){const s=this.getAttribute("position")||"beforebegin",e=this.templateContent.textContent||"";this.targetElements.forEach(t=>t.insertAdjacentHTML(s,e))}function sn(){const s=this.getAttribute("position")||"beforebegin",e=this.getAttribute("text")||"";this.targetElements.forEach(t=>t.insertAdjacentText(s,e))}function rn(){const s=this.templateContent.textContent||"";this.targetElements.forEach(e=>e.outerHTML=s)}function nn(){const s=this.getAttribute("name"),e=this.getAttribute("content")||"";if(s){let t=document.head.querySelector(`meta[name='${s}']`);t||(t=document.createElement("meta"),t.name=s,document.head.appendChild(t)),t.content=e}else console.error('[TurboPower] no "name" provided for Turbo Streams operation "set_meta"')}function on(){const s=this.getAttribute("text")||"";this.targetElements.forEach(e=>e.textContent=s)}function an(s){s.graft=Qr,s.inner_html=en,s.insert_adjacent_html=tn,s.insert_adjacent_text=sn,s.outer_html=rn,s.text_content=on,s.set_meta=nn}function ln(){const s=this.getAttribute("name");let e=null;try{e=this.templateContent.textContent}catch{}try{const t=e?JSON.parse(e):{};if(s){const r={bubbles:!0,cancelable:!0,detail:t},n=new CustomEvent(s,r);this.targetElements.forEach(i=>i.dispatchEvent(n))}else console.warn('[TurboPower] no "name" provided for Turbo Streams operation "dispatch_event"')}catch(t){console.error(`[TurboPower] error proccessing provided "detail" in "<template>" ("${e}") for Turbo Streams operation "dispatch_event".`,`Error: "${t.message}"`)}}function cn(s){s.dispatch_event=ln}function dn(){this.targetElements.forEach(s=>s.reset())}function hn(s){s.reset_form=dn}function un(){const s=this.getAttribute("url"),e=this.getAttribute("state"),t=this.getAttribute("title")||"";window.history.pushState(e,t,s)}function fn(){const s=this.getAttribute("url"),e=this.getAttribute("state"),t=this.getAttribute("title")||"";window.history.replaceState(e,t,s)}function mn(){window.history.back()}function cd(){window.history.forward()}function pn(){const s=Number(this.getAttribute("delta"))||0;window.history.go(s)}function gn(s){s.push_state=un,s.replace_state=fn,s.history_back=mn,s.history_go=pn}const dd=["dir","lang","badge","body","tag","icon","image","data","vibrate","renotify","require-interaction","actions","silent"],Rs=s=>{const e=s.getAttribute("title")||"",t=Array.from(s.attributes).filter(n=>dd.includes(n.name)).map(n=>[zt(n.name),Wt(n.value)]),r=Object.fromEntries(t);new Notification(e,r)};function bn(){window.Notification?Notification.permission==="granted"?Rs(this):Notification.permission!=="denied"&&Notification.requestPermission().then(s=>{s==="granted"&&Rs(this)}):alert("This browser does not support desktop notification")}function vn(s){s.notification=bn}function Kt(s){return s==="session"?window.sessionStorage:window.localStorage}function yn(){const s=this.getAttribute("type");Kt(s).clear()}function wn(){const s=this.getAttribute("key"),e=this.getAttribute("value")||"",t=this.getAttribute("type");s?Kt(t).setItem(s,e):console.warn('[TurboPower] no "key" provided for Turbo Streams operation "set_storage_item"')}function _n(){const s=this.getAttribute("key"),e=this.getAttribute("type");s?Kt(e).removeItem(s):console.warn('[TurboPower] no "key" provided for Turbo Streams operation "remove_storage_item"')}function En(s){s.clear_storage=yn,s.set_storage_item=wn,s.remove_storage_item=_n}var hd={get location(){return window.TurboPowerLocation||window.location}};function Sn(){const s=this.getAttribute("url")||"/",e=this.getAttribute("turbo-action")||"advance",t=this.getAttribute("turbo-frame"),r=this.getAttribute("turbo")!=="false",n={action:e};t&&(n.frame=t),r&&window.Turbo?window.Turbo.visit(s,n):hd.location.assign(s)}function Tn(){window.Turbo.cache.clear()}function An(s){s.redirect_to=Sn,s.turbo_clear_cache=Tn}function Ln(){const s=this.getAttribute("value")||0;window.Turbo.navigator.adapter.progressBar.setValue(Number(s))}function Cn(){window.Turbo.navigator.adapter.progressBar.show()}function kn(){window.Turbo.navigator.adapter.progressBar.hide()}function On(s){s.turbo_progress_bar_set_value=Ln,s.turbo_progress_bar_show=Cn,s.turbo_progress_bar_hide=kn}function Pn(){this.targetElements.forEach(s=>s.reload())}function Rn(){const s=this.getAttribute("src");this.targetElements.forEach(e=>e.src=s)}function Mn(s){s.turbo_frame_reload=Pn,s.turbo_frame_set_src=Rn}function In(s){Br(s),Ur(s),Kr(s),Jr(s),Zr(s),an(s),cn(s),hn(s),gn(s),vn(s),En(s),An(s),On(s),Mn(s)}var ud=Object.freeze({__proto__:null,add_css_class:Cr,clear_storage:yn,console_log:zr,console_table:Wr,dispatch_event:ln,graft:Qr,history_back:mn,history_forward:cd,history_go:pn,inner_html:en,insert_adjacent_html:tn,insert_adjacent_text:sn,invoke:Gr,notification:bn,outer_html:rn,push_state:un,redirect_to:Sn,register:In,registerAttributesActions:Br,registerBrowserActions:Ur,registerDOMActions:an,registerDebugActions:Kr,registerDeprecatedActions:Jr,registerDocumentActions:Zr,registerEventsActions:cn,registerFormActions:hn,registerHistoryActions:gn,registerNotificationActions:vn,registerStorageActions:En,registerTurboActions:An,registerTurboFrameActions:Mn,registerTurboProgressBarActions:On,reload:Hr,remove_attribute:kr,remove_css_class:Or,remove_storage_item:_n,replace_css_class:Dr,replace_state:fn,reset_form:dn,scroll_into_view:Vr,set_attribute:Pr,set_cookie:Xr,set_cookie_item:Yr,set_dataset_attribute:Mr,set_focus:qr,set_meta:nn,set_property:Ir,set_storage_item:wn,set_style:xr,set_styles:Fr,set_title:$r,set_value:Nr,text_content:on,toggle_attribute:Rr,toggle_css_class:jr,turbo_clear_cache:Tn,turbo_frame_reload:Pn,turbo_frame_set_src:Rn,turbo_progress_bar_hide:kn,turbo_progress_bar_set_value:Ln,turbo_progress_bar_show:Cn});function fd(s){nd(s),In(s)}function md(s,e,t){t[s]=e}var pu={initialize:fd,register:md,Actions:ud,Utils:ad},pd=/^(?:.*?(?:controllers|components)\/|\.?\.\/)?(.+)(?:[_-]controller\..+?)$/;function gu(s,e){s.load(gd(e))}function gd(s){return Object.entries(s).map(bd).filter(e=>e)}function bd([s,e]){const t=vd(s),r=e.default;if(t&&typeof r=="function")return{identifier:t,controllerConstructor:r}}function vd(s){const e=(s.match(pd)||[])[1];if(e)return e.replace(/_/g,"-").replace(/\//g,"--")}const ue=typeof window<"u",xn=ue&&!("onscroll"in window)||typeof navigator<"u"&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),Fn=ue&&"IntersectionObserver"in window,Nn=ue&&"classList"in document.createElement("p"),jn=ue&&window.devicePixelRatio>1,yd={elements_selector:".lazy",container:xn||ue?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_bg_hidpi:"bg-hidpi",data_bg_multi:"bg-multi",data_bg_multi_hidpi:"bg-multi-hidpi",data_bg_set:"bg-set",data_poster:"poster",class_applied:"applied",class_loading:"loading",class_loaded:"loaded",class_error:"error",class_entered:"entered",class_exited:"exited",unobserve_completed:!0,unobserve_entered:!1,cancel_on_exit:!0,callback_enter:null,callback_exit:null,callback_applied:null,callback_loading:null,callback_loaded:null,callback_error:null,callback_finish:null,callback_cancel:null,use_native:!1,restore_on_error:!1},Dn=s=>Object.assign({},yd,s),Ms=function(s,e){let t;const r="LazyLoad::Initialized",n=new s(e);try{t=new CustomEvent(r,{detail:{instance:n}})}catch{t=document.createEvent("CustomEvent"),t.initCustomEvent(r,!1,!1,{instance:n})}window.dispatchEvent(t)},wd=(s,e)=>{if(e)if(!e.length)Ms(s,e);else for(let t=0,r;r=e[t];t+=1)Ms(s,r)},se="src",Gt="srcset",Jt="sizes",Bn="poster",je="llOriginalAttrs",Hn="data",Xt="loading",Vn="loaded",qn="applied",_d="entered",Yt="error",$n="native",Un="data-",zn="ll-status",V=(s,e)=>s.getAttribute(Un+e),Ed=(s,e,t)=>{var r=Un+e;if(t===null){s.removeAttribute(r);return}s.setAttribute(r,t)},De=s=>V(s,zn),we=(s,e)=>Ed(s,zn,e),rt=s=>we(s,null),Zt=s=>De(s)===null,Sd=s=>De(s)===Xt,Td=s=>De(s)===Yt,Qt=s=>De(s)===$n,Ad=[Xt,Vn,qn,Yt],Ld=s=>Ad.indexOf(De(s))>=0,fe=(s,e,t,r)=>{if(s){if(r!==void 0){s(e,t,r);return}if(t!==void 0){s(e,t);return}s(e)}},Ce=(s,e)=>{if(Nn){s.classList.add(e);return}s.className+=(s.className?" ":"")+e},Y=(s,e)=>{if(Nn){s.classList.remove(e);return}s.className=s.className.replace(new RegExp("(^|\\s+)"+e+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")},Cd=s=>{s.llTempImage=document.createElement("IMG")},kd=s=>{delete s.llTempImage},Wn=s=>s.llTempImage,nt=(s,e)=>{if(!e)return;const t=e._observer;t&&t.unobserve(s)},Od=s=>{s.disconnect()},Pd=(s,e,t)=>{e.unobserve_entered&&nt(s,t)},es=(s,e)=>{s&&(s.loadingCount+=e)},Rd=s=>{s&&(s.toLoadCount-=1)},Kn=(s,e)=>{s&&(s.toLoadCount=e)},Md=s=>s.loadingCount>0,Id=s=>s.toLoadCount>0,Gn=s=>{let e=[];for(let t=0,r;r=s.children[t];t+=1)r.tagName==="SOURCE"&&e.push(r);return e},ts=(s,e)=>{const t=s.parentNode;if(!t||t.tagName!=="PICTURE")return;Gn(t).forEach(e)},Jn=(s,e)=>{Gn(s).forEach(e)},it=[se],Xn=[se,Bn],Ie=[se,Gt,Jt],Yn=[Hn],ot=s=>!!s[je],Zn=s=>s[je],Qn=s=>delete s[je],Le=(s,e)=>{if(ot(s))return;const t={};e.forEach(r=>{t[r]=s.getAttribute(r)}),s[je]=t},xd=s=>{ot(s)||(s[je]={backgroundImage:s.style.backgroundImage})},Fd=(s,e,t)=>{if(!t){s.removeAttribute(e);return}s.setAttribute(e,t)},ve=(s,e)=>{if(!ot(s))return;const t=Zn(s);e.forEach(r=>{Fd(s,r,t[r])})},Nd=s=>{if(!ot(s))return;const e=Zn(s);s.style.backgroundImage=e.backgroundImage},ei=(s,e,t)=>{Ce(s,e.class_applied),we(s,qn),t&&(e.unobserve_completed&&nt(s,e),fe(e.callback_applied,s,t))},ti=(s,e,t)=>{Ce(s,e.class_loading),we(s,Xt),t&&(es(t,1),fe(e.callback_loading,s,t))},he=(s,e,t)=>{t&&s.setAttribute(e,t)},Is=(s,e)=>{he(s,Jt,V(s,e.data_sizes)),he(s,Gt,V(s,e.data_srcset)),he(s,se,V(s,e.data_src))},jd=(s,e)=>{ts(s,t=>{Le(t,Ie),Is(t,e)}),Le(s,Ie),Is(s,e)},Dd=(s,e)=>{Le(s,it),he(s,se,V(s,e.data_src))},Bd=(s,e)=>{Jn(s,t=>{Le(t,it),he(t,se,V(t,e.data_src))}),Le(s,Xn),he(s,Bn,V(s,e.data_poster)),he(s,se,V(s,e.data_src)),s.load()},Hd=(s,e)=>{Le(s,Yn),he(s,Hn,V(s,e.data_src))},Vd=(s,e,t)=>{const r=V(s,e.data_bg),n=V(s,e.data_bg_hidpi),i=jn&&n?n:r;i&&(s.style.backgroundImage=`url("${i}")`,Wn(s).setAttribute(se,i),ti(s,e,t))},qd=(s,e,t)=>{const r=V(s,e.data_bg_multi),n=V(s,e.data_bg_multi_hidpi),i=jn&&n?n:r;i&&(s.style.backgroundImage=i,ei(s,e,t))},$d=(s,e,t)=>{const r=V(s,e.data_bg_set);if(!r)return;const n=r.split("|");let i=n.map(o=>`image-set(${o})`);s.style.backgroundImage=i.join(),s.style.backgroundImage===""&&(i=n.map(o=>`-webkit-image-set(${o})`),s.style.backgroundImage=i.join()),ei(s,e,t)},si={IMG:jd,IFRAME:Dd,VIDEO:Bd,OBJECT:Hd},Ud=(s,e)=>{const t=si[s.tagName];t&&t(s,e)},zd=(s,e,t)=>{const r=si[s.tagName];r&&(r(s,e),ti(s,e,t))},Wd=["IMG","IFRAME","VIDEO","OBJECT"],Kd=s=>Wd.indexOf(s.tagName)>-1,ri=(s,e)=>{e&&!Md(e)&&!Id(e)&&fe(s.callback_finish,e)},xs=(s,e,t)=>{s.addEventListener(e,t),s.llEvLisnrs[e]=t},Gd=(s,e,t)=>{s.removeEventListener(e,t)},ss=s=>!!s.llEvLisnrs,Jd=(s,e,t)=>{ss(s)||(s.llEvLisnrs={});const r=s.tagName==="VIDEO"?"loadeddata":"load";xs(s,r,e),xs(s,"error",t)},Rt=s=>{if(!ss(s))return;const e=s.llEvLisnrs;for(let t in e){const r=e[t];Gd(s,t,r)}delete s.llEvLisnrs},ni=(s,e,t)=>{kd(s),es(t,-1),Rd(t),Y(s,e.class_loading),e.unobserve_completed&&nt(s,t)},Xd=(s,e,t,r)=>{const n=Qt(e);ni(e,t,r),Ce(e,t.class_loaded),we(e,Vn),fe(t.callback_loaded,e,r),n||ri(t,r)},Yd=(s,e,t,r)=>{const n=Qt(e);ni(e,t,r),Ce(e,t.class_error),we(e,Yt),fe(t.callback_error,e,r),t.restore_on_error&&ve(e,Ie),n||ri(t,r)},rs=(s,e,t)=>{const r=Wn(s)||s;if(ss(r))return;Jd(r,o=>{Xd(o,s,e,t),Rt(r)},o=>{Yd(o,s,e,t),Rt(r)})},Zd=(s,e,t)=>{Cd(s),rs(s,e,t),xd(s),Vd(s,e,t),qd(s,e,t),$d(s,e,t)},Qd=(s,e,t)=>{rs(s,e,t),zd(s,e,t)},ns=(s,e,t)=>{Kd(s)?Qd(s,e,t):Zd(s,e,t)},eh=(s,e,t)=>{s.setAttribute("loading","lazy"),rs(s,e,t),Ud(s,e),we(s,$n)},Fs=s=>{s.removeAttribute(se),s.removeAttribute(Gt),s.removeAttribute(Jt)},th=s=>{ts(s,e=>{Fs(e)}),Fs(s)},ii=s=>{ts(s,e=>{ve(e,Ie)}),ve(s,Ie)},sh=s=>{Jn(s,e=>{ve(e,it)}),ve(s,Xn),s.load()},rh=s=>{ve(s,it)},nh=s=>{ve(s,Yn)},ih={IMG:ii,IFRAME:rh,VIDEO:sh,OBJECT:nh},oh=s=>{const e=ih[s.tagName];if(!e){Nd(s);return}e(s)},ah=(s,e)=>{Zt(s)||Qt(s)||(Y(s,e.class_entered),Y(s,e.class_exited),Y(s,e.class_applied),Y(s,e.class_loading),Y(s,e.class_loaded),Y(s,e.class_error))},lh=(s,e)=>{oh(s),ah(s,e),rt(s),Qn(s)},ch=(s,e,t,r)=>{t.cancel_on_exit&&Sd(s)&&s.tagName==="IMG"&&(Rt(s),th(s),ii(s),Y(s,t.class_loading),es(r,-1),rt(s),fe(t.callback_cancel,s,e,r))},dh=(s,e,t,r)=>{const n=Ld(s);we(s,_d),Ce(s,t.class_entered),Y(s,t.class_exited),Pd(s,t,r),fe(t.callback_enter,s,e,r),!n&&ns(s,t,r)},hh=(s,e,t,r)=>{Zt(s)||(Ce(s,t.class_exited),ch(s,e,t,r),fe(t.callback_exit,s,e,r))},uh=["IMG","IFRAME","VIDEO"],oi=s=>s.use_native&&"loading"in HTMLImageElement.prototype,fh=(s,e,t)=>{s.forEach(r=>{uh.indexOf(r.tagName)!==-1&&eh(r,e,t)}),Kn(t,0)},mh=s=>s.isIntersecting||s.intersectionRatio>0,ph=s=>({root:s.container===document?null:s.container,rootMargin:s.thresholds||s.threshold+"px"}),gh=(s,e,t)=>{s.forEach(r=>mh(r)?dh(r.target,r,e,t):hh(r.target,r,e,t))},bh=(s,e)=>{e.forEach(t=>{s.observe(t)})},vh=(s,e)=>{Od(s),bh(s,e)},yh=(s,e)=>{!Fn||oi(s)||(e._observer=new IntersectionObserver(t=>{gh(t,s,e)},ph(s)))},ai=s=>Array.prototype.slice.call(s),Xe=s=>s.container.querySelectorAll(s.elements_selector),wh=s=>ai(s).filter(Zt),_h=s=>Td(s),Eh=s=>ai(s).filter(_h),Ns=(s,e)=>wh(s||Xe(e)),Sh=(s,e)=>{Eh(Xe(s)).forEach(r=>{Y(r,s.class_error),rt(r)}),e.update()},Th=(s,e)=>{ue&&(e._onlineHandler=()=>{Sh(s,e)},window.addEventListener("online",e._onlineHandler))},Ah=s=>{ue&&window.removeEventListener("online",s._onlineHandler)},at=function(s,e){const t=Dn(s);this._settings=t,this.loadingCount=0,yh(t,this),Th(t,this),this.update(e)};at.prototype={update:function(s){const e=this._settings,t=Ns(s,e);if(Kn(this,t.length),xn||!Fn){this.loadAll(t);return}if(oi(e)){fh(t,e,this);return}vh(this._observer,t)},destroy:function(){this._observer&&this._observer.disconnect(),Ah(this),Xe(this._settings).forEach(s=>{Qn(s)}),delete this._observer,delete this._settings,delete this._onlineHandler,delete this.loadingCount,delete this.toLoadCount},loadAll:function(s){const e=this._settings;Ns(s,e).forEach(r=>{nt(r,this),ns(r,e,this)})},restoreAll:function(){const s=this._settings;Xe(s).forEach(e=>{lh(e,s)})}};at.load=(s,e)=>{const t=Dn(e);ns(s,t)};at.resetStatus=s=>{rt(s)};ue&&wd(at,window.lazyLoadOptions);export{Jo as $,$s as A,ru as B,nu as C,iu as D,ou as E,au as F,lu as G,cu as H,du as I,hu as J,uu as K,at as L,fu as M,mu as N,Fe as O,ge as P,xe as Q,aa as R,Er as S,hs as T,Gs as U,Nh as V,Oe as W,kh as X,zs as Y,Bo as Z,Oh as _,Ph as a,Go as a0,jo as a1,We as a2,ga as a3,dc as a4,vc as a5,Ac as a6,xc as a7,Da as a8,ea as a9,Rh as b,Mh as c,Ih as d,jh as e,Dh as f,Bh as g,Hh as h,pu as i,Vh as j,qh as k,$h as l,Uh as m,zh as n,Wh as o,Kh as p,Gh as q,gu as r,Jh as s,Xh as t,Yh as u,Zh as v,Qh as w,eu as x,tu as y,su as z};
